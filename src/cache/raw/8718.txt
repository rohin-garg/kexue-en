## SEARCH

## MENU

- [打赏](https://kexue.fm/reward.html)
- [公式](https://kexue.fm/latex.html)
- [天象](https://kexue.fm/ac.html)
- [链接](https://kexue.fm/links.html)
- [时光](https://kexue.fm/me.html)
- [博览](https://kexue.fm/science.html)
- [归档](https://kexue.fm/content.html)

## CATEGORIES

- [千奇百怪](https://kexue.fm/category/Everything)
- [天文探索](https://kexue.fm/category/Astronomy)
- [数学研究](https://kexue.fm/category/Mathematics)
- [物理化学](https://kexue.fm/category/Phy-chem)
- [信息时代](https://kexue.fm/category/Big-Data)
- [生物自然](https://kexue.fm/category/Biology)
- [图片摄影](https://kexue.fm/category/Photograph)
- [问题百科](https://kexue.fm/category/Questions)
- [生活/情感](https://kexue.fm/category/Life-Feeling)
- [资源共享](https://kexue.fm/category/Resources)

## NEWPOSTS

- [重新思考学习率与Batch Siz...](https://kexue.fm/archives/11280)
- [为什么Adam的Update RM...](https://kexue.fm/archives/11267)
- [重新思考学习率与Batch Siz...](https://kexue.fm/archives/11260)
- [Cool Papers更新：简单适...](https://kexue.fm/archives/11250)
- [流形上的最速下降：4\. Muon ...](https://kexue.fm/archives/11241)
- [ReLU/GeLU/Swish的一...](https://kexue.fm/archives/11233)
- [流形上的最速下降：3\. Muon ...](https://kexue.fm/archives/11221)
- [流形上的最速下降：2\. Muon ...](https://kexue.fm/archives/11215)
- [基于树莓派Zero2W搭建一个随身旁路由](https://kexue.fm/archives/11206)
- [流形上的最速下降：1\. SGD ...](https://kexue.fm/archives/11196)

## COMMENTS

- [jayden: 假如输入是 abcde，窗口为 3，在推 d 的时候，abc ...](https://kexue.fm/archives/9431/comment-page-2#comment-28558)
- [wsty: 苏老师，有个小问题想请教一下，假如网络是个encoder和de...](https://kexue.fm/archives/10795/comment-page-1#comment-28557)
- [Narsil: 一年后来挖坟，请问Qwen Image提出的 multimod...](https://kexue.fm/archives/10040/comment-page-1#comment-28556)
- [苏剑林: 这里的均值方差实际上是跨优化轨迹计算的，它跟Batch Siz...](https://kexue.fm/archives/11267/comment-page-1#comment-28555)
- [苏剑林: 这只是一种理解，我倾向于很难用于裁剪，除非引入更多的induc...](https://kexue.fm/archives/11233/comment-page-1#comment-28554)
- [苏剑林: 第一个问题：确实不能，公式$(11)$的结果并不是原始高维向量...](https://kexue.fm/archives/8265/comment-page-8#comment-28553)
- [苏剑林: 确实可以这样理解。](https://kexue.fm/archives/9209/comment-page-7#comment-28552)
- [苏剑林: 球面的SGD应该是朴素的结果了，很多人都应该知道了。后面几篇“...](https://kexue.fm/archives/11196/comment-page-1#comment-28551)
- [苏剑林: $a^x$多数都是按$e^{x\\ln a}$来算的，所以也就不...](https://kexue.fm/archives/11126/comment-page-2#comment-28550)
- [苏剑林: 这个没法简单科普呀，你可能还是要去看专门的ode/pde教程吧...](https://kexue.fm/archives/9379/comment-page-1#comment-28549)

## USERLOGIN

- [登录](https://kexue.fm/admin/login.php)

[科学空间\|Scientific Spaces](https://kexue.fm)

- [登录](https://kexue.fm/admin/login.php)
- [打赏](https://kexue.fm/reward.html)
- [公式](https://kexue.fm/latex.html)
- [天象](https://kexue.fm/ac.html)
- [链接](https://kexue.fm/links.html)
- [时光](https://kexue.fm/me.html)
- [博览](https://kexue.fm/science.html)
- [归档](https://kexue.fm/content.html)

渴望成为一个小飞侠

- [欢迎订阅](https://kexue.fm/feed)
- [个性邮箱](https://kexue.fm/archives/119)
- [天象信息](https://kexue.fm/ac.html)
- [观测ISS](https://kexue.fm/archives/41)
- [LaTeX](https://kexue.fm/latex.html)
- [关于博主](https://kexue.fm/me.html)

欢迎访问“科学空间”，这里将与您共同探讨自然科学，回味人生百态；也期待大家的分享～

- [**千奇百怪** Everything](https://kexue.fm/category/Everything)
- [**天文探索** Astronomy](https://kexue.fm/category/Astronomy)
- [**数学研究** Mathematics](https://kexue.fm/category/Mathematics)
- [**物理化学** Phy-chem](https://kexue.fm/category/Phy-chem)
- [**信息时代** Big-Data](https://kexue.fm/category/Big-Data)
- [**生物自然** Biology](https://kexue.fm/category/Biology)
- [**图片摄影** Photograph](https://kexue.fm/category/Photograph)
- [**问题百科** Questions](https://kexue.fm/category/Questions)
- [**生活/情感** Life-Feeling](https://kexue.fm/category/Life-Feeling)
- [**资源共享** Resources](https://kexue.fm/category/Resources)

- [**千奇百怪**](https://kexue.fm/category/Everything)
- [**天文探索**](https://kexue.fm/category/Astronomy)
- [**数学研究**](https://kexue.fm/category/Mathematics)
- [**物理化学**](https://kexue.fm/category/Phy-chem)
- [**信息时代**](https://kexue.fm/category/Big-Data)
- [**生物自然**](https://kexue.fm/category/Biology)
- [**图片摄影**](https://kexue.fm/category/Photograph)
- [**问题百科**](https://kexue.fm/category/Questions)
- [**生活/情感**](https://kexue.fm/category/Life-Feeling)
- [**资源共享**](https://kexue.fm/category/Resources)

[首页](https://kexue.fm) [数学研究](https://kexue.fm/category/Mathematics) 用狄拉克函数来构造非光滑函数的光滑近似

10Oct

# [用狄拉克函数来构造非光滑函数的光滑近似](https://kexue.fm/archives/8718)

By 苏剑林 \|
2021-10-10 \|
97080位读者\|

在机器学习中，我们经常会碰到不光滑的函数，但我们的优化方法通常是基于梯度的，这意味着光滑的模型可能更利于优化（梯度是连续的），所以就有了寻找非光滑函数的光滑近似的需求。事实上，本博客已经多次讨论过相关主题，比如 [《寻求一个光滑的最大值函数》](https://kexue.fm/archives/3290)、 [《函数光滑化杂谈：不可导函数的可导逼近》](https://kexue.fm/archives/6620) 等，但以往的讨论在方法上并没有什么通用性。

不过，笔者从最近的一篇论文 [《SAU: Smooth activation function using convolution with approximate identities》](https://papers.cool/arxiv/2109.13210) 学习到了一种比较通用的思路：用狄拉克函数来构造光滑近似。通用到什么程度呢？理论上有可数个间断点的函数都可以用它来构造光滑近似！个人感觉还是非常有意思的。

## 狄拉克函数 [\#](https://kexue.fm/kexue.fm\#%E7%8B%84%E6%8B%89%E5%85%8B%E5%87%BD%E6%95%B0)

在很早之前的文章 [《诡异的Dirac函数》](https://kexue.fm/archives/1870) 中，我们就介绍过狄拉克函数了。在现代数学中，狄拉克函数被定义为一个“泛函”而不是“函数”，但对于大多数读者来说，将它当作函数来理解是比较容易接受的。

简单来说，狄拉克函数$\\delta(x)$满足：

> 1、$\\forall x\\neq 0, \\delta(x) = 0$；
>
> 2、$\\delta(0) = \\infty$；
>
> 3、$\\int\_{-\\infty}^{\\infty} \\delta(x) dx = 1$。

直观来看，$\\delta(x)$可以看成一个连续型的概率密度函数，采样空间为全体实数$\\mathbb{R}$，但是只有$x=0$处概率非零，也即均值为0、方差也为0，所以从中采样必然只能采样到0，因此成立如下恒等式：
\\begin{equation}\\int\_{-\\infty}^{\\infty} f(x)\\delta(x) dx = f(0)\\end{equation}
或者
\\begin{equation}\\int\_{-\\infty}^{\\infty} f(y)\\delta(x-y) dy = f(x)\\label{eq:base}\\end{equation}
这可谓是狄拉克函数最重要的性质，也是我们后面主要用到的恒等式。

## 光滑近似 [\#](https://kexue.fm/kexue.fm\#%E5%85%89%E6%BB%91%E8%BF%91%E4%BC%BC)

如果我们能找到$\\delta(x)$的一个光滑近似$\\varphi(x)\\approx \\delta(x)$，那么根据$\\eqref{eq:base}$，我们就有
\\begin{equation}g(x) = \\int\_{-\\infty}^{\\infty} f(y)\\varphi(x-y) dy \\approx f(x)\\end{equation}
由于$\\varphi(x)$是光滑的，所以$g(x)$也是光滑的，这也就是说，$g(x)$就是$f(x)$的一个光滑近似！这便是借助狄拉克函数的光滑近似来构建$f(x)$的光滑近似的核心思路了，在这个过程中，对$f(x)$的形式和连续性都没有太多限制，比如允许$f(x)$有可数个间断点（如取整函数$\[x\]$）。

那么狄拉克函数的光滑近似有哪些呢？现成的也有不少，比如：
\\begin{equation}\\delta(x) = \\lim\_{\\sigma\\to 0} \\frac{e^{-x^2/2\\sigma^2}}{\\sqrt{2\\pi}\\sigma}\\label{eq:g}\\end{equation}
或
\\begin{equation}\\delta(x)=\\frac{1}{\\pi} \\lim\_{a \\to 0}\\frac{a}{x^2+a^2}\\end{equation}
简单来说，就是找一个像正态分布那样钟形曲线的非负函数，想办法让钟形的宽度逐渐趋于0，但保持积分为1。还有另一个思路是留意到
\\begin{equation}\\int\_{-\\infty}^x \\delta(t)dt = \\theta(x) = \\left\\{\\begin{aligned}1,\\,\\, (x > 0) \\\ 0,\\,\\, (x < 0)\\end{aligned}\\right.\\end{equation}
也就是说，狄拉克函数的积分是“单位阶跃函数”$\\theta(x)$，如果我们能找到$\\theta(x)$的光滑近似，那么将它求导就得到狄拉克函数的光滑近似。而$\\theta(x)$的光滑近似，就是所谓的“S形”曲线了，比如sigmoid函数$\\sigma(x)=1/(1+e^{-x})$，所以我们有
\\begin{equation}\\delta(x) = \\lim\_{t\\to \\infty} \\frac{d}{dx}\\sigma(tx) = \\lim\_{t\\to \\infty} \\frac{e^{tx}t}{(1+e^{tx})^2}\\label{eq:s}\\end{equation}
常用的就是式$\\eqref{eq:g}$和式$\\eqref{eq:s}$两个近似。

## ReLU激活 [\#](https://kexue.fm/kexue.fm\#ReLU%E6%BF%80%E6%B4%BB)

现在，我们就以上述思路为工具，推导ReLU激活函数$\\max(x,0)$的各种光滑近似。

比如利用式$\\eqref{eq:s}$，得到
\\begin{equation}\\begin{aligned}
\\max(x,0)\\approx&\\, \\int\_{-\\infty}^{\\infty} \\frac{e^{t(x-y)}t}{(1+e^{t(x-y)})^2} \\max(y,0) dy\\\
=&\\,\\int\_0^{\\infty} \\frac{e^{t(x-y)}ty}{(1+e^{t(x-y)})^2}dy=\\frac{\\log(1+e^{tx})}{t}
\\end{aligned}\\end{equation}
当$t=1$时，这便是SoftPlus激活函数。

如果换用式$\\eqref{eq:g}$，那么结果是
\\begin{equation}\\begin{aligned}
\\max(x,0)\\approx&\\, \\int\_{-\\infty}^{\\infty} \\frac{e^{-(x-y)^2/2\\sigma^2}}{\\sqrt{2\\pi}\\sigma} \\max(y,0) dy\\\
=&\\,\\int\_0^{\\infty} \\frac{e^{-(x-y)^2/2\\sigma^2} y}{\\sqrt{2\\pi}\\sigma}dy\\\
=&\\,\\frac{1}{2} \\left\[x \\,\\text{erf}\\left(\\frac{x}{\\sqrt{2} \\sigma}\\right)+x+\\sqrt{\\frac{2}{\\pi }} \\sigma e^{-\\frac{x^2}{2 \\sigma^2}}\\right\]
\\end{aligned}\\end{equation}
这个ReLU的光滑近似貌似还没被研究过。

当然，如果仅仅是ReLU函数的光滑近似，那么还有更简单的思路，比如留意到$\\max(x,0)=x\\theta(x)$，这里的$\\theta(x)$就是前面提到的单位阶跃函数，所以问题可以转变为求$\\theta(x)$的光滑近似，我们已经知道sigmoid便是其中之一，所以很快得到
\\begin{equation}\\max(x,0)\\approx x\\sigma(tx)\\end{equation}
当$t=1$时，这便是Swish激活函数。而如果用$\\eqref{eq:g}$进行计算，那么就得到
\\begin{equation}\\begin{aligned}
\\max(x,0)\\approx&\\, x\\int\_{-\\infty}^{\\infty} \\frac{e^{-(x-y)^2/2\\sigma^2}}{\\sqrt{2\\pi}\\sigma} \\theta(y) dy\\\
=&\\,x\\int\_0^{\\infty} \\frac{e^{-(x-y)^2/2\\sigma^2}}{\\sqrt{2\\pi}\\sigma}dy =\\frac{1}{2}\\left\[x + x\\,\\text{erf}\\left(\\frac{x}{\\sqrt{2}\\sigma}\\right)\\right\]
\\end{aligned}\\end{equation}
当$\\sigma=1$时，就是GeLU激活函数。

ReLU函数及其几个光滑近似的图像

## 取整函数 [\#](https://kexue.fm/kexue.fm\#%E5%8F%96%E6%95%B4%E5%87%BD%E6%95%B0)

可能读者觉得还不够意思，毕竟上面推导出来的都是现成的东西，而且不借助狄拉克函数也能推导出来。现在我们就来补充一个不怎么平凡的例子：取整函数的光滑近似。

取整函数分上取整和下取整两种，它们定义上有所不同，但是没有本质区别，这里以下取整为例子，我们记为
\\begin{equation}\[x\] = n, \\,\\,\\text{当且仅当存在}n\\in\\mathbb{Z}\\text{使得}x\\in\[n, n + 1)\\end{equation}

假设$\\varphi(x)$为狄拉克函数的某个光滑近似，那么
\\begin{equation}
\[x\]\\approx \\int\_{-\\infty}^{\\infty} \\varphi(x-y)\[y\]dy = \\sum\_{n=-\\infty}^{\\infty}n\\int\_n^{n+1} \\varphi(x-y)dy\\end{equation}
设$\\varphi(x)$的原函数为$\\Phi(x)$，那么$\\varphi(x-y)$关于$y$的原函数就是$-\\Phi(x-y)$，于是有
\\begin{equation}\\begin{aligned}\[\]
\[x\]\\approx&\\,\\sum\_{n=-\\infty}^{\\infty}n\\big\[\\Phi(x-n) - \\Phi(x-n-1)\\big\]\\\
=&\\,\\lim\_{M,N\\to\\infty}\\sum\_{n=-M}^{N}(n-1)\\Phi(x-n) - n\\Phi(x-n-1) + \\Phi(x-n)\\\
=&\\,\\lim\_{M,N\\to\\infty} -N\\Phi(x-N-1) - (M+1)\\Phi(x+M) + \\sum\_{n=-M}^{N} \\Phi(x-n)
\\end{aligned}\\end{equation}
对于$\\Phi(x)$我们有$\\Phi(-\\infty)=0$和$\\Phi(\\infty)=1$，所以假设我们关心的范围满足$-M\\ll x \\ll N$，那么$\\Phi(x-N-1)\\approx 0$和$\\Phi(x+N)\\approx 1$，所以此时：
\\begin{equation}\\begin{aligned}\[\]
\[x\]\\approx&\\, -M-1 + \\sum\_{n=-M}^{N} \\Phi(x-n)\\\
=&\\,\\sum\_{n=-M}^0 \\big\[\\Phi(x-n)-1\\big\] + \\sum\_{n=1}^N \\Phi(x-n)
\\end{aligned}\\end{equation}
用$\\Phi(x)=\\sigma(tx)$作为例子，取$t=10,M=5,N=10$，结果如下：

取整函数的光滑近似效果

可以看到，确实与$\[x\]$蛮近似的，增大$t$能进一步提高近似程度。

## 文章小结 [\#](https://kexue.fm/kexue.fm\#%E6%96%87%E7%AB%A0%E5%B0%8F%E7%BB%93)

本文介绍了一种利用狄拉克函数来构造光滑近似的方法，其特点是比较通用，对原函数没有太严格的要求。作为例子，我们利用它导出了ReLU函数的各种常见近似以及取整函数的一个光滑近似。

_**转载到请包括本文地址：** [https://kexue.fm/archives/8718](https://kexue.fm/archives/8718)_

_**更详细的转载事宜请参考：**_ [《科学空间FAQ》](https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8)

**如果您还有什么疑惑或建议，欢迎在下方评论区继续讨论。**

**如果您觉得本文还不错，欢迎 [分享](https://kexue.fm/kexue.fm#share)/ [打赏](https://kexue.fm/kexue.fm#pay) 本文。打赏并非要从中获得收益，而是希望知道科学空间获得了多少读者的真心关注。当然，如果你无视它，也不会影响你的阅读。再次表示欢迎和感谢！**

打赏

微信打赏

支付宝打赏

因为网站后台对打赏并无记录，因此欢迎在打赏时候备注留言。你还可以 [**点击这里**](http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=tN7d1drY3drrx8H0xcWa19vZ) 或在下方评论区留言来告知你的建议或需求。

**如果您需要引用本文，请参考：**

苏剑林. (Oct. 10, 2021). 《用狄拉克函数来构造非光滑函数的光滑近似 》\[Blog post\]. Retrieved from [https://kexue.fm/archives/8718](https://kexue.fm/archives/8718)

@online{kexuefm-8718,
        title={用狄拉克函数来构造非光滑函数的光滑近似},
        author={苏剑林},
        year={2021},
        month={Oct},
        url={\\url{https://kexue.fm/archives/8718}},
}

分类： [数学研究](https://kexue.fm/category/Mathematics)    标签： [函数](https://kexue.fm/tag/%E5%87%BD%E6%95%B0/), [近似](https://kexue.fm/tag/%E8%BF%91%E4%BC%BC/), [分析](https://kexue.fm/tag/%E5%88%86%E6%9E%90/), [光滑](https://kexue.fm/tag/%E5%85%89%E6%BB%91/)[22 评论](https://kexue.fm/archives/8718#comments)

< [关于WhiteningBERT原创性的疑问和沟通](https://kexue.fm/archives/8715) \| [初始化方法中非方阵的维度平均策略思考](https://kexue.fm/archives/8725) >

### 你也许还对下面的内容感兴趣

- [为什么Adam的Update RMS是0.2？](https://kexue.fm/archives/11267)
- [ReLU/GeLU/Swish的一个恒等式](https://kexue.fm/archives/11233)
- [通过msign来计算奇异值裁剪mclip（下）](https://kexue.fm/archives/11059)
- [通过msign来计算奇异值裁剪mclip（上）](https://kexue.fm/archives/11006)
- [msign算子的Newton-Schulz迭代（下）](https://kexue.fm/archives/10996)
- [等值振荡定理：最优多项式逼近的充要条件](https://kexue.fm/archives/10972)
- [msign算子的Newton-Schulz迭代（上）](https://kexue.fm/archives/10922)
- [SVD的导数](https://kexue.fm/archives/10878)
- [通过梯度近似寻找Normalization的替代品](https://kexue.fm/archives/10831)
- [低秩近似之路（五）：CUR](https://kexue.fm/archives/10662)

[发表你的看法](https://kexue.fm/kexue.fm#comment_form)

申大忠

October 10th, 2021

苏神，这个Dirac卷积的形式近似非光滑函数很有意思。有没有可能利用类似的思想做离散分布的重参数化呢？毕竟，对于一个在$n$个点$(x\_1,x\_2,...,x\_n)$上的categorical distribution (参数为$(p\_1,p\_2,...,p\_n)$)，具有密度函数$f(x) = \\sum\_{i=1}^n p\_i \\delta(x-x\_i)$.

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17524#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
October 11th, 2021

有点意思，但感觉上有点难。因为重参数的目的是避免积分，但这里的光滑近似是为了得到完成积分后的结果。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17530#respond-post-8718)

LinJ 发表于
October 11th, 2021

同意苏神的看法，在这里使用光滑近似的主要好处还是在于针对原来的期望，或者是得到一个近似该pmf的pdf，对重参数化本身可能没什么指导意义。但是也可以使用该技巧强行构造，比如用n个方差很小的gaussian近似，就得到了一个gmm，接下来就可以直接用reparameterization trick啦。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17531#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
October 11th, 2021

离散分布的重参数化是希望将$p\_1,p\_2,\\cdots,p\_n$融入到采样结果中，从GMM采样无法实现这一点吧？

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17532#respond-post-8718)

LinJ 发表于
October 11th, 2021

从GMM先采样出一个component这一步可以用gumbel-softmax来近似地重参数化，后面对于该gaussian可以直接重参数化。但是这样做不如直接用Gumbel-softmax，所以我感觉要把这个近似用在重参数化这东西上有点儿难度，目前还没看到太多insight哈哈

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17534#respond-post-8718)

fmaa

November 4th, 2021

苏神你好，这种函数可以在什么情况下使用呢，我能想到的只有在多分类情况下，使标签更接近整数时使用，并且效果好不好还没有试。其他的想不到了。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17728#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
November 7th, 2021

本文主要是介绍这种构造光滑函数的方法，所举的例子仅仅是演示所用。

真实场景的顺序应该是：你遇到了一个非光滑的函数，你需要对它进行光滑化，所以你才看到这篇文章来完成你的任务。这样的话就不会有“有什么用”的疑惑了。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17739#respond-post-8718)

fmaa 发表于
November 9th, 2021

好的，相通了一些，谢谢

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17759#respond-post-8718)

enjlife

November 9th, 2021

苏神，下式的第一项是不是少个负号，不过对结果没有影响。
\\begin{equation}\\begin{aligned}
\\lim\_{M,N\\to\\infty} N\\Phi(x-N-1) - (M+1)\\Phi(x+M) + \\sum\_{n=-M}^{N} \\Phi(x-n)
\\end{aligned}\\end{equation}

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17766#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
November 9th, 2021

是的，已修正哈，谢谢～

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=17768#respond-post-8718)

Kastin

December 12th, 2021

有点类似数学里面的“磨光算子”，不知道算不算是。挺有意思的，特别是对于近似计算很有用。不知道是否能对锯齿波也能用一个光滑函数表达呢？虽然傅里叶级数也可以，但有限项的傅里叶级数得到的结果会存在振荡，这个是最头痛的。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18002#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
December 13th, 2021

对对对，感谢提示，其实就是“磨光算子”，我都忘了这个名字了，你一说我就想起来了。

至于锯齿波，按照本文的记号不就是$x-\[x\]$吗？代入本文的$\[x\]$结果不就直接得到了？

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18010#respond-post-8718)

Kastin 发表于
January 2nd, 2022

确实是的，对于有限范围内，效果还挺不错。受此启发，我觉得是否可以将双曲型偏微分方程的不连续的边界条件用这种方式来近似，或许获得的解就不会出现色散？

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18134#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
January 4th, 2022

远离PDE好多年了，我都看不懂题目了～

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18147#respond-post-8718)

常青树

December 16th, 2021

公式（9）激活函数的文章：https://arxiv.org/pdf/2109.13210.pdf

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18033#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
December 17th, 2021

那不就是本文介绍的论文么～我主要说的是在这个之前没被研究过。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18041#respond-post-8718)

Xinyu Zhou

December 26th, 2021

这篇文章里用 (7) 做一般程序里 a == b 的可微近似：
https://arxiv.org/pdf/2110.05651.pdf

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18091#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
December 27th, 2021

嗯嗯，常见操作了哈～

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18101#respond-post-8718)

heisse

February 4th, 2022

请问公式14后两步是怎么推导出来的啊？

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18360#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
February 7th, 2022

有限项截断，然后裂项相消。

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=18366#respond-post-8718)

xx99

November 7th, 2022

师兄您好！
请问有没有可能构造光滑函数使其对复指数函数e^iwt的光滑化准确成立，例如在已有的光滑近似函数例如样条函数等引入修正系数？
冒昧提问，十分感谢！

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=20308#respond-post-8718)

[苏剑林](https://kexue.fm) 发表于
November 10th, 2022

“使其对复指数函数e^iwt的光滑化准确成立”具体是什么意思呢？是指提出一种光滑化方法，代入其他函数得到的是近似结果，代入复指数函数得到它自身？

[回复评论](https://kexue.fm/archives/8718/comment-page-1?replyTo=20337#respond-post-8718)

[取消回复](https://kexue.fm/archives/8718#respond-post-8718)

你的大名

电子邮箱

个人网站（选填）

1\. 可以使用LaTeX代码，点击“预览效果”可查看效果；2. 可以通过点击评论楼层编号来引用该楼层；3. 网站可能会有点卡，如非确认评论失败，请 **不要重复点击提交**。

### 内容速览

[狄拉克函数](https://kexue.fm/kexue.fm#%E7%8B%84%E6%8B%89%E5%85%8B%E5%87%BD%E6%95%B0)
[光滑近似](https://kexue.fm/kexue.fm#%E5%85%89%E6%BB%91%E8%BF%91%E4%BC%BC)
[ReLU激活](https://kexue.fm/kexue.fm#ReLU%E6%BF%80%E6%B4%BB)
[取整函数](https://kexue.fm/kexue.fm#%E5%8F%96%E6%95%B4%E5%87%BD%E6%95%B0)
[文章小结](https://kexue.fm/kexue.fm#%E6%96%87%E7%AB%A0%E5%B0%8F%E7%BB%93)

### 智能搜索

支持整句搜索！网站自动使用 [结巴分词](https://github.com/fxsjy/jieba) 进行分词，并结合ngrams排序算法给出合理的搜索结果。

### 热门标签

[生成模型](https://kexue.fm/tag/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/) [attention](https://kexue.fm/tag/attention/) [优化](https://kexue.fm/tag/%E4%BC%98%E5%8C%96/) [语言模型](https://kexue.fm/tag/%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/) [模型](https://kexue.fm/tag/%E6%A8%A1%E5%9E%8B/) [网站](https://kexue.fm/tag/%E7%BD%91%E7%AB%99/) [概率](https://kexue.fm/tag/%E6%A6%82%E7%8E%87/) [梯度](https://kexue.fm/tag/%E6%A2%AF%E5%BA%A6/) [转载](https://kexue.fm/tag/%E8%BD%AC%E8%BD%BD/) [矩阵](https://kexue.fm/tag/%E7%9F%A9%E9%98%B5/) [微分方程](https://kexue.fm/tag/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/) [优化器](https://kexue.fm/tag/%E4%BC%98%E5%8C%96%E5%99%A8/) [分析](https://kexue.fm/tag/%E5%88%86%E6%9E%90/) [天象](https://kexue.fm/tag/%E5%A4%A9%E8%B1%A1/) [深度学习](https://kexue.fm/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/) [积分](https://kexue.fm/tag/%E7%A7%AF%E5%88%86/) [python](https://kexue.fm/tag/python/) [力学](https://kexue.fm/tag/%E5%8A%9B%E5%AD%A6/) [无监督](https://kexue.fm/tag/%E6%97%A0%E7%9B%91%E7%9D%A3/) [扩散](https://kexue.fm/tag/%E6%89%A9%E6%95%A3/) [几何](https://kexue.fm/tag/%E5%87%A0%E4%BD%95/) [节日](https://kexue.fm/tag/%E8%8A%82%E6%97%A5/) [生活](https://kexue.fm/tag/%E7%94%9F%E6%B4%BB/) [文本生成](https://kexue.fm/tag/%E6%96%87%E6%9C%AC%E7%94%9F%E6%88%90/) [数论](https://kexue.fm/tag/%E6%95%B0%E8%AE%BA/)

### 随机文章

- [折腾windows 8和ubuntu 12](https://kexue.fm/archives/1706)
- [圆内随机n点在同一个圆心角为θ的扇形的概率](https://kexue.fm/archives/9324)
- [祝大家端午节快乐！](https://kexue.fm/archives/681)
- [从Knotsevich在黑板上写的级数题目谈起](https://kexue.fm/archives/3229)
- [【致敬】费曼诞辰100年](https://kexue.fm/archives/5533)
- [流体静力平衡的应用](https://kexue.fm/archives/1964)
- [分享一次专业领域词汇的无监督挖掘](https://kexue.fm/archives/6540)
- [Adam的epsilon如何影响学习率的Scaling Law？](https://kexue.fm/archives/10563)
- [EMO：基于最优传输思想设计的分类损失函数](https://kexue.fm/archives/9797)
- [从动力学角度看优化算法（二）：自适应学习率算法](https://kexue.fm/archives/6234)

### 最近评论

- [jayden](https://kexue.fm/archives/9431/comment-page-2#comment-28558): 假如输入是 abcde，窗口为 3，在推 d 的时候，abc 的相对位置是 123。但到推 e...
- [wsty](https://kexue.fm/archives/10795/comment-page-1#comment-28557): 苏老师，有个小问题想请教一下，假如网络是个encoder和decoder的架构，想要全量的fi...
- [Narsil](https://kexue.fm/archives/10040/comment-page-1#comment-28556): 一年后来挖坟，请问Qwen Image提出的 multimodal scalable RoPE...
- [苏剑林](https://kexue.fm/archives/11267/comment-page-1#comment-28555): 这里的均值方差实际上是跨优化轨迹计算的，它跟Batch Size带来的噪声不完全一样（但相关）...
- [苏剑林](https://kexue.fm/archives/11233/comment-page-1#comment-28554): 这只是一种理解，我倾向于很难用于裁剪，除非引入更多的inductive bias。
- [苏剑林](https://kexue.fm/archives/8265/comment-page-8#comment-28553): 第一个问题：确实不能，公式$(11)$的结果并不是原始高维向量在高维空间中的旋转。第二个问题：...
- [苏剑林](https://kexue.fm/archives/9209/comment-page-7#comment-28552): 确实可以这样理解。
- [苏剑林](https://kexue.fm/archives/11196/comment-page-1#comment-28551): 球面的SGD应该是朴素的结果了，很多人都应该知道了。后面几篇“Muon+正交”、“Muon+谱...
- [苏剑林](https://kexue.fm/archives/11126/comment-page-2#comment-28550): $a^x$多数都是按$e^{x\\ln a}$来算的，所以也就不存在真正的非e底数
- [苏剑林](https://kexue.fm/archives/9379/comment-page-1#comment-28549): 这个没法简单科普呀，你可能还是要去看专门的ode/pde教程吧，或者尝试一下问llm。关键是单...

### 友情链接

- [Cool Papers](https://papers.cool)
- [数学研发](https://bbs.emath.ac.cn)
- [Seatop](http://www.seatop.com.cn/)
- [Xiaoxia](https://xiaoxia.org/)
- [积分表-网络版](https://kexue.fm/sci/integral/index.html)
- [丝路博傲](http://blog.dvxj.com/)
- [数学之家](http://www.2math.cn/)
- [有趣天文奇观](http://interesting-sky.china-vo.org/)
- [TwistedW](http://www.twistedwg.com/)
- [godweiyang](https://godweiyang.com/)
- [AI柠檬](https://blog.ailemon.net/)
- [王登科-DK博客](https://greatdk.com)
- [ESON](https://blog.eson.org/)
- [枫之羽](https://fzhiy.net/)
- [Mathor's blog](https://wmathor.com/)
- [coding-zuo](https://coding-zuo.github.io/)
- [博科园](https://www.bokeyuan.net/)
- [孔皮皮的博客](https://www.kppkkp.top/)
- [运鹏的博客](https://yunpengtai.top/)
- [jiming.site](https://jiming.site/)
- [OmegaXYZ](https://www.omegaxyz.com/)
- [EAI猩球](https://www.robotech.ink/)
- [文举的博客](https://liwenju0.com/)
- [用代码打点酱油](https://bruceyuan.com/)
- [Zhang's blog](https://armcvai.cn/)
- [申请链接](https://kexue.fm/links.html)

本站采用创作共用版权协议，要求署名、非商业用途和保持一致。转载本站内容必须也遵循“ [署名-非商业用途-保持一致](http://creativecommons.org/licenses/by-nc-nd/2.5/cn/)”的创作共用协议。
© 2009-2025 Scientific Spaces. All rights reserved. Theme by [laogui](http://www.laogui.com). Powered by [Typecho](http://typecho.org). 备案号: [粤ICP备09093259号-1/2](https://beian.miit.gov.cn/)。