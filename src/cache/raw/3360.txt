![MobileSideBar](https://kexue.fm/usr/themes/geekg/images/slide-button.png)

## SEARCH

## MENU

- [打赏](https://kexue.fm/reward.html)
- [公式](https://kexue.fm/latex.html)
- [天象](https://kexue.fm/ac.html)
- [链接](https://kexue.fm/links.html)
- [时光](https://kexue.fm/me.html)
- [博览](https://kexue.fm/science.html)
- [归档](https://kexue.fm/content.html)

## CATEGORIES

- [千奇百怪](https://kexue.fm/category/Everything)
- [天文探索](https://kexue.fm/category/Astronomy)
- [数学研究](https://kexue.fm/category/Mathematics)
- [物理化学](https://kexue.fm/category/Phy-chem)
- [信息时代](https://kexue.fm/category/Big-Data)
- [生物自然](https://kexue.fm/category/Biology)
- [图片摄影](https://kexue.fm/category/Photograph)
- [问题百科](https://kexue.fm/category/Questions)
- [生活/情感](https://kexue.fm/category/Life-Feeling)
- [资源共享](https://kexue.fm/category/Resources)

## NEWPOSTS

- [让炼丹更科学一些（五）：基于梯度精...](https://kexue.fm/archives/11530)
- [让炼丹更科学一些（四）：新恒等式，...](https://kexue.fm/archives/11494)
- [为什么DeltaNet要加L2 N...](https://kexue.fm/archives/11486)
- [让炼丹更科学一些（三）：SGD的终...](https://kexue.fm/archives/11480)
- [让炼丹更科学一些（二）：将结论推广...](https://kexue.fm/archives/11469)
- [滑动平均视角下的权重衰减和学习率](https://kexue.fm/archives/11459)
- [生成扩散模型漫谈（三十一）：预测数...](https://kexue.fm/archives/11428)
- [Muon优化器指南：快速上手与关键细节](https://kexue.fm/archives/11416)
- [AdamW的Weight RMS的...](https://kexue.fm/archives/11404)
- [n个正态随机数的最大值的渐近估计](https://kexue.fm/archives/11390)

## COMMENTS

- [Bin: 今天偶然从某个论坛看到有人推荐您的博客，定睛一看竟然是华师同院...](https://kexue.fm/archives/1990/comment-page-2#comment-29105)
- [Rapture D: 我有一个问题，为什么不考虑亥姆霍兹定理和斯托克斯公式。](https://kexue.fm/archives/11530/comment-page-1#comment-29104)
- [mofheka: 苏神是还在用jax是么？最近在做基于Google Pathwa...](https://kexue.fm/archives/11390/comment-page-1#comment-29103)
- [长琴: 看懂这篇博客也不是一件容易的事情。](https://kexue.fm/archives/11530/comment-page-1#comment-29102)
- [AlexLi: 苏老师，请教一下(7)式中将 $\\mu(x\_t)$ 传给 $p...](https://kexue.fm/archives/9257/comment-page-4#comment-29101)
- [tyler\_zxc: "Performer的思想是将标准的Attention线性化，...](https://kexue.fm/archives/7921/comment-page-2#comment-29100)
- [我: 似乎并非mHC提出矩阵的思想？之前hyper connecti...](https://kexue.fm/archives/11494/comment-page-1#comment-29099)
- [winter: 苏神您好，假如对于比较均匀的attention weightP...](https://kexue.fm/archives/10847/comment-page-1#comment-29098)
- [苏剑林: KL散度、JS散度、W距离啥的，都行啊，看你喜欢哪个](https://kexue.fm/archives/8512/comment-page-2#comment-29097)
- [苏剑林: 没有绝对公平的对比方法，主要看你关心什么。比如，如果只关心推理...](https://kexue.fm/archives/9119/comment-page-14#comment-29096)

## USERLOGIN

- [登录](https://kexue.fm/admin/login.php)

[科学空间\|Scientific Spaces](https://kexue.fm/)

- [登录](https://kexue.fm/admin/login.php)
- [打赏](https://kexue.fm/reward.html)
- [公式](https://kexue.fm/latex.html)
- [天象](https://kexue.fm/ac.html)
- [链接](https://kexue.fm/links.html)
- [时光](https://kexue.fm/me.html)
- [博览](https://kexue.fm/science.html)
- [归档](https://kexue.fm/content.html)

渴望成为一个小飞侠

- [![](https://kexue.fm/usr/themes/geekg/images/rss.png)\\
\\
欢迎订阅](https://kexue.fm/feed)
- [![](https://kexue.fm/usr/themes/geekg/images/mail.png)\\
\\
个性邮箱](https://kexue.fm/archives/119)
- [![](https://kexue.fm/usr/themes/geekg/images/Saturn.png)\\
\\
天象信息](https://kexue.fm/ac.html)
- [![](https://kexue.fm/usr/themes/geekg/images/iss.png)\\
\\
观测ISS](https://kexue.fm/archives/41)
- [![](https://kexue.fm/usr/themes/geekg/images/pi.png)\\
\\
LaTeX](https://kexue.fm/latex.html)
- [![](https://kexue.fm/usr/themes/geekg/images/mlogo.png)\\
\\
关于博主](https://kexue.fm/me.html)

欢迎访问“科学空间”，这里将与您共同探讨自然科学，回味人生百态；也期待大家的分享～

- [**千奇百怪** Everything](https://kexue.fm/category/Everything)
- [**天文探索** Astronomy](https://kexue.fm/category/Astronomy)
- [**数学研究** Mathematics](https://kexue.fm/category/Mathematics)
- [**物理化学** Phy-chem](https://kexue.fm/category/Phy-chem)
- [**信息时代** Big-Data](https://kexue.fm/category/Big-Data)
- [**生物自然** Biology](https://kexue.fm/category/Biology)
- [**图片摄影** Photograph](https://kexue.fm/category/Photograph)
- [**问题百科** Questions](https://kexue.fm/category/Questions)
- [**生活/情感** Life-Feeling](https://kexue.fm/category/Life-Feeling)
- [**资源共享** Resources](https://kexue.fm/category/Resources)

- [**千奇百怪**](https://kexue.fm/category/Everything)
- [**天文探索**](https://kexue.fm/category/Astronomy)
- [**数学研究**](https://kexue.fm/category/Mathematics)
- [**物理化学**](https://kexue.fm/category/Phy-chem)
- [**信息时代**](https://kexue.fm/category/Big-Data)
- [**生物自然**](https://kexue.fm/category/Biology)
- [**图片摄影**](https://kexue.fm/category/Photograph)
- [**问题百科**](https://kexue.fm/category/Questions)
- [**生活/情感**](https://kexue.fm/category/Life-Feeling)
- [**资源共享**](https://kexue.fm/category/Resources)

[首页](https://kexue.fm/) [信息时代](https://kexue.fm/category/Big-Data) 文本情感分类（一）：传统模型

22Jun

# [文本情感分类（一）：传统模型](https://kexue.fm/archives/3360)

By 苏剑林 \|
2015-06-22 \|
306855位读者 \|

**前言：** 四五月份的时候，我参加了两个数据挖掘相关的竞赛，分别是物电学院举办的“亮剑杯”，以及第三届 “泰迪杯”全国大学生数据挖掘竞赛。很碰巧的是，两个比赛中，都有一题主要涉及到中文情感分类工作。在做“亮剑杯”的时候，由于我还是初涉，水平有限，仅仅是基于传统的思路实现了一个简单的文本情感分类模型。而在后续的“泰迪杯”中，由于学习的深入，我已经基本了解深度学习的思想，并且用深度学习的算法实现了文本情感分类模型。因此，我打算将两个不同的模型都放到博客中，供读者参考。刚入门的读者，可以从中比较两者的不同，并且了解相关思路。高手请一笑置之。

### 基于情感词典 [\#](https://kexue.fm/archives/3360\#%E5%9F%BA%E4%BA%8E%E6%83%85%E6%84%9F%E8%AF%8D%E5%85%B8)

[![人的最简单的判断思维](https://kexue.fm/usr/uploads/2015/06/3473700595.png)](https://kexue.fm/usr/uploads/2015/06/3473700595.png "点击查看原图")

人的最简单的判断思维

传统的基于情感词典的文本情感分类，是对人的记忆和判断思维的最简单的模拟，如上图。我们首先通过学习来记忆一些基本词汇，如否定词语有“不”，积极词语有“喜欢”、“爱”，消极词语有“讨厌”、“恨”等，从而在大脑中形成一个基本的语料库。然后，我们再对输入的句子进行最直接的拆分，看看我们所记忆的词汇表中是否存在相应的词语，然后根据这个词语的类别来判断情感，比如“我喜欢数学”，“喜欢”这个词在我们所记忆的积极词汇表中，所以我们判断它具有积极的情感。

基于上述思路，我们可以通过以下几个步骤实现基于情感词典的文本情感分类：预处理、分词、训练情感词典、判断，整个过程可以如下图所示。而检验模型用到的原材料，包括薛云老师提供的蒙牛牛奶的评论，以及从网络购买的某款手机的评论数据（见附件）。

[![基于情感词典的文本情感分类](https://kexue.fm/usr/uploads/2015/06/2323544396.png)](https://kexue.fm/usr/uploads/2015/06/2323544396.png "点击查看原图")

基于情感词典的文本情感分类

**文本的预处理**

由网络爬虫等工具爬取到的原始语料，通常都会带有我们不需要的信息，比如额外的Html标签，所以需要对语料进行预处理。由薛云老师提供的蒙牛牛奶评论也不例外。我们队伍使用Python作为我们的预处理工具，其中的用到的库有Numpy和Pandas，而主要的文本工具为正则表达式。经过预处理，原始语料规范为如下表，其中我们用-1标注消极情感评论，1标记积极情感评论。

\\begin{array}{c\|c\|c}

\\hline

& comment & mark\\\

\\hline

0 & 蒙牛又出来丢人了 & -1\\\

1 & 珍爱生命远离蒙牛 & -1\\\

\\vdots & \\vdots & \\vdots \\\

1171 & 我一直都很爱喝蒙牛的纯牛奶 一直，很爱 & 1\\\

1172 & 送蒙牛...健康才是最好的礼物。 & 1\\\

\\vdots & \\vdots & \\vdots \\\

\\hline

\\end{array}

**句子自动分词**

为了判断句子中是否存在情感词典中相应的词语，我们需要把句子准确切割为一个个词语，即句子的自动分词。我们对比了现有的分词工具，综合考虑了分词的准确性和在Python平台的易用性，最终选择了“结巴中文分词”作为我们的分词工具。

下表仅展示各常见的分词工具对其中一个典型的测试句子的分词效果：

> **测试句子：** 工信处女干事每月经过下属科室都要亲口交代24口交换机等技术性器件的安装工作

|     |     |
| --- | --- |
| 分词工具 | 测试结果 |
| 结巴中文分词 | 工信处/ 女干事/ 每月/ 经过/ 下属/ 科室/ 都/ 要/ 亲口/ 交代/ 24/ 口/ 交换机/ 等/ 技术性/ 器件/ 的/ 安装/ 工作 |
| 中科院分词 | 工/n 信/n 处女/n 干事/n 每月/r 经过/p 下属/v 科室/n 都/d 要/v 亲口/d 交代/v 24/m 口/q 交换机/n 等/udeng 技术性/n 器件/n 的/ude1 安装/vn 工作/vn |
| smallseg | 工信/ 信处/ 女干事/ 每月/ 经过/ 下属/ 科室/ 都要/ 亲口/ 交代/ 24/ 口/ 交换机/ 等/ 技术性/ 器件/ 的/ 安装/ 工作 |
| Yaha 分词 | 工信处 / 女 / 干事 / 每月 / 经过 / 下属 / 科室 / 都 / 要 / 亲口 / 交代 / 24 / 口 / 交换机 / 等 / 技术性 / 器件 / 的 / 安装 / 工作 |

**载入情感词典**

一般来说，词典是文本挖掘最核心的部分，对于文本感情分类也不例外。情感词典分为四个部分：积极情感词典、消极情感词典、否定词典以及程度副词词典。为了得到更加完整的情感词典，我们从网络上收集了若干个情感词典，并且对它们进行了整合去重，同时对部分词语进行了调整，以达到尽可能高的准确率。

[![构建情感词典](https://kexue.fm/usr/uploads/2015/06/1152794772.png)](https://kexue.fm/usr/uploads/2015/06/1152794772.png "点击查看原图")

构建情感词典

我们队伍并非单纯对网络收集而来的词典进行整合，而且还有针对性和目的性地对词典进行了去杂、更新。特别地，我们加入了某些行业词汇，以增加分类中的命中率。不同行业某些词语的词频会有比较大的差别，而这些词有可能是情感分类的关键词之一。比如，薛云老师提供的评论数据是有关蒙牛牛奶的，也就是饮食行业的；而在饮食行业中，“吃”和“喝”这两个词出现的频率会相当高，而且通常是对饮食的正面评价，而“不吃”或者“不喝”通常意味着对饮食的否定评价，而在其他行业或领域中，这几个词语则没有明显情感倾向。另外一个例子是手机行业的，比如“这手机很耐摔啊，还防水”，“耐摔”、“防水”就是在手机这个领域有积极情绪的词。因此，有必要将这些因素考虑进模型之中。

**文本情感分类**

基于情感词典的文本情感分类规则比较机械化。简单起见，我们将每个积极情感词语赋予权重1，将每个消极情感词语赋予权重-1，并且假设情感值满足线性叠加原理；然后我们将句子进行分词，如果句子分词后的词语向量包含相应的词语，就加上向前的权值，其中，否定词和程度副词会有特殊的判别规则，否定词会导致权值反号，而程度副词则让权值加倍。最后，根据总权值的正负性来判断句子的情感。基本的算法如图。

[![基于情感词典的文本分类-程序框图](https://kexue.fm/usr/uploads/2015/06/2778028889.png)](https://kexue.fm/usr/uploads/2015/06/2778028889.png "点击查看原图")

基于情感词典的文本分类-程序框图

要说明的是，为了编程和测试的可行性，我们作了几个假设（简化）。假设一：我们假设了所有积极词语、消极词语的权重都是相等的，这只是在简单的判断情况下成立，更精准的分类显然不成立的，比如“恨”要比“讨厌”来得严重；修正这个缺陷的方法是给每个词语赋予不同的权值，我们将在本文的第二部分探讨权值的赋予思路。假设二：我们假设了权值是线性叠加的，这在多数情况下都会成立，而在本文的第二部分中，我们会探讨非线性的引入，以增强准确性。假设三：对于否定词和程度副词的处理，我们仅仅是作了简单的取反和加倍，而事实上，各个否定词和程度副词的权值也是不一样的，比如“非常喜欢”显然比“挺喜欢”程度深，但我们对此并没有区分。

在算法的实现上，我们则选用了Python作为实现平台。可以看到，借助于Python丰富的扩展支持，我们仅用了一百行不到的代码，就实现了以上所有步骤，得到了一个有效的情感分类算法，这充分体现了Python的简洁。下面将检验我们算法的有效性。

### 模型结果检验 [\#](https://kexue.fm/archives/3360\#%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%9C%E6%A3%80%E9%AA%8C)

作为最基本的检验，我们首先将我们的模型运用于薛云老师提供的蒙牛牛奶评论中，结果是让人满意的，达到了82.02%的正确率，详细的检验报告如下表

\\begin{array}{c\|c\|c\|c\|c\|c}

\\hline

数据内容 & 正样本数 & 负样本数 & 准确率 & 真正率 & 真负率\\\

\\hline

牛奶评论 & 1005 & 1170 & 0.8202 & 0.8209 & 0.8197\\\

\\hline

\\end{array}

（其中，正样本为积极情感评论，负样本为消极情感数据，

$$\\begin{aligned}

&\\text{准确率}=\\frac{\\text{被正确判断的样本数}}{\\text{总样本数}}\\\

&\\text{真正率}=\\frac{\\text{被判断为积极的正样本数}}{\\text{正样本总数}}\\\

&\\text{真负率}=\\frac{\\text{被判断为消极的负样本数}}{\\text{负样本总数}}

\\end{aligned}$$。）

让我们惊喜的是，将从蒙牛牛奶评论数据中调整出来的模型，直接应用到某款手机的评论数据的情感分类中，也达到了81.96%准确率！这表明我们的模型具有较好的强健性，能在不同行业的评论数据的情感分类中都有不错的表现。

\\begin{array}{c\|c\|c\|c\|c\|c}

\\hline

数据内容 & 正样本数 & 负样本数 & 准确率 & 真正率 & 真负率\\\

\\hline

手机评论 & 1158 & 1159 & 0.8196 & 0.7539 & 0.8852\\\

\\hline

\\end{array}

**结论：** 我们队伍初步实现了基于情感词典的文本情感分类，测试结果表明，通过简单的判断规则就能够使这一算法具有不错的准确率，同时具有较好的强健性。一般认为，正确率达80%以上的模型具有一定的生产价值，能适用于工业环境。显然，我们的模型已经初步达到了这个标准。

### 困难所在 [\#](https://kexue.fm/archives/3360\#%E5%9B%B0%E9%9A%BE%E6%89%80%E5%9C%A8)

经过两次测试，可以初步认为我们的模型正确率基本达到了80%以上。另外，一些比较成熟的商业化程序，它的正确率也只有85%到90%左右（如BosonNLP）。这说明我们这个简单的模型确实已经达到了让人满意的效果，另一方面，该事实也表明，传统的“基于情感词典的文本情感分类”模型的性能可提升幅度相当有限。这是由于文本情感分类的本质复杂性所致的。经过初步的讨论，我们认为文本情感分类的困难在以下几个方面。

**语言系统是相当复杂的**

归根结底，这是因为我们大脑中的语言系统是相当复杂的。（1）我们现在做的是文本情感分类，文本和文本情感都是人类文化的产物，换言之，人是唯一准确的判别标准。（2）人的语言是一个相当复杂的文化产物，一个句子并不是词语的简单线性组合，它有相当复杂的非线性在里面。（3）我们在描述一个句子时，都是将句子作为一个整体而不是词语的集合看待的，词语的不同组合、不同顺序、不同数目都能够带来不同的含义和情感，这导致了文本情感分类工作的困难。

因此，文本情感分类工作实际上是对人脑思维的模拟。我们前面的模型，实际上已经对此进行了最简单的模拟。然而，我们模拟的不过是一些简单的思维定式，真正的情感判断并不是一些简单的规则，而是一个复杂的网络。

**大脑不仅仅在情感分类**

事实上，我们在判断一个句子的情感时，我们不仅仅在想这个句子是什么情感，而且还会判断这个句子的类型（祈使句、疑问句还是陈述句？）；当我们在考虑句子中的每个词语时，我们不仅仅关注其中的积极词语、消极词语、否定词或者程度副词，我们会关注每一个词语（主语、谓语、宾语等等），从而形成对整个句子整体的认识；我们甚至还会联系上下文对句子进行判断。这些判断我们可能是无意识的，但我们大脑确实做了这个事情，以形成对句子的完整认识，才能对句子的感情做了准确的判断。也就是说，我们的大脑实际上是一个非常高速而复杂的处理器，我们要做情感分类，却同时还做了很多事情。

**活水：学习预测**

人类区别于机器、甚至人类区别于其他动物的显著特征，是人类具有学习意识和学习能力。我们获得新知识的途径，除了其他人的传授外，还包括自己的学习、总结和猜测。对于文本情感分类也不例外，我们不仅仅可以记忆住大量的情感词语，同时我们还可以总结或推测出新的情感词语。比如，我们只知道“喜欢”和“爱”都具有积极情感倾向，那么我们会猜测“喜爱”也具有积极的情感色彩。这种学习能力是我们扩充我们的词语的重要方式，也是记忆模式的优化（即我们不需要专门往大脑的语料库中塞进“喜爱”这个词语，我们仅需要记得“喜欢”和“爱”，并赋予它们某种联系，以获得“喜爱”这个词语，这是一种优化的记忆模式）。

### 优化思路 [\#](https://kexue.fm/archives/3360\#%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF)

经过上述分析，我们看到了文本情感分类的本质复杂性以及人脑进行分类的几个特征。而针对上述分析，我们提出如下几个改进措施。

**非线性特征的引入**

前面已经提及过，真实的人脑情感分类实际上是严重非线性的，基于简单线性组合的模型性能是有限的。所以为了提高模型的准确率，有必要在模型中引入非线性。

所谓非线性，指的是词语之间的相互组合形成新的语义。事实上，我们的初步模型中已经简单地引入了非线性——在前面的模型中，我们将积极词语和消极词语相邻的情况，视为一个组合的消极语块，赋予它负的权值。更精细的组合权值可以通过“词典矩阵”来实现，即我们将已知的积极词语和消极词语都放到同一个集合来，然后逐一编号，通过如下的“词典矩阵”，来记录词组的权值。

\\begin{array}{c\|cccccc}

词语 & （空词） & 喜欢 & 爱 & \\dots & 讨厌 & \\dots\\\

\\hline

（空词） & 0 & 1 & 2 & \\dots & -1 & \\dots\\\

喜欢 & 1 & 2 & 3 & \\dots & -2 & \\dots\\\

爱 & 2 & 3 & 4 & \\dots & -2 & \\dots\\\

\\vdots & \\vdots & \\vdots & \\vdots & \\vdots & \\vdots & \\dots\\\

讨厌 & -1 & -2 & -3 & \\dots & -2 & \\dots\\\

\\vdots & \\vdots & \\vdots & \\vdots & \\vdots & \\vdots & \\dots

\\end{array}

并不是每一个词语的组合都是成立的，但我们依然可以计算它们之间的组合权值，情感权值的计算可以阅读参考文献。然而，情感词语的数目相当大，而词典矩阵的元素个数则是其平方，其数据量是相当可观的，因此，这已经初步进入大数据的范畴。为了更加高效地实现非线性，我们需要探索组合词语的优化方案，包括构造方案和储存、索引方案。

**情感词典的自动扩充**

在如今的网络信息时代，新词的出现如雨后春笋，其中包括“新构造网络词语”以及“将已有词语赋予新的含义”；另一方面，我们整理的情感词典中，也不可能完全包含已有的情感词语。因此，自动扩充情感词典是保证情感分类模型时效性的必要条件。目前，通过网络爬虫等手段，我们可以从微博、社区中收集到大量的评论数据，为了从这大批量的数据中找到新的具有情感倾向的词语，我们的思路是无监督学习式的词频统计。

我们的目标是“自动扩充”，因此我们要达到的目的是基于现有的初步模型来进行无监督学习，完成词典扩充，从而增强模型自身的性能，然后再以同样的方式进行迭代，这是一个正反馈的调节过程。虽然我们可以从网络中大量抓取评论数据，但是这些数据是无标注的，我们要通过已有的模型对评论数据进行情感分类，然后在同一类情感（积极或消极）的评论集合中统计各个词语的出现频率，最后将积极、消极评论集的各个词语的词频进行对比。某个词语在积极评论集中的词频相当低，在消极评论集中的词频相当高，那么我们就有把握将该词语添加到消极情感词典中，或者说，赋予该词语负的权值。

举例来说，假设我们的消极情感词典中并没有“黑心”这个词语，但是“可恶”、“讨厌”、“反感”、“喜欢”等基本的情感词语在情感词典中已经存在，那么我们就会能够将下述句子正确地进行情感分类：

\\begin{array}{c\|c}

\\hline

句子 & 权值\\\

\\hline

这个黑心老板太可恶了 & -2\\\

\\hline

我很反感这黑心企业的做法 & -2\\\

\\hline

很讨厌这家黑心店铺 & -2\\\

\\hline

这家店铺真黑心！ & 0\\\

\\hline

\\vdots & \\vdots\\\

\\hline

\\end{array}

其中，由于消极情感词典中没有“黑心”这个词语，所以“这家店铺真黑心！”就只会被判断为中性（即权值为0）。分类完成后，对所有词频为正和为负的分别统计各个词频，我们发现，新词语“黑心”在负面评论中出现很多次，但是在正面评论中几乎没有出现，那么我们就将黑心这个词语添加到我们的消极情感词典中，然后更新我们的分类结果：

\\begin{array}{c\|c}

\\hline

句子 & 权值\\\

\\hline

这个黑心老板太可恶了 & -3\\\

\\hline

我很反感这黑心企业的做法 & -3\\\

\\hline

很讨厌这家黑心店铺 & -3\\\

\\hline

这家店铺真黑心！ & -2\\\

\\hline

\\vdots & \\vdots\\\

\\hline

\\end{array}

于是我们就通过无监督式的学习扩充了词典，同时提高了准确率，增强了模型的性能。这是一个反复迭代的过程，前一步的结果可以帮助后一步的进行。

**本文结论**

综合上述研究，我们得出如下结论：

> 基于情感词典的文本情感分类是容易实现的，其核心之处在于情感词典的训练。
>
> 语言系统是相当复杂的，基于情感词典的文本情感分类只是一个线性的模型，其性能是有限的。
>
> 在文本情感分类中适当地引入非线性特征，能够有效地提高模型的准确率。
>
> 引入扩充词典的无监督学习机制，可以有效地发现新的情感词，保证模型的强健性和时效性。

### 参考文献 [\#](https://kexue.fm/archives/3360\#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)

Deep Learning（深度学习）学习笔记整理： [http://blog.csdn.net/zouxy09/article/details/8775360](http://blog.csdn.net/zouxy09/article/details/8775360)

Yoshua Bengio, Réjean Ducharme Pascal Vincent, Christian Jauvin. A Neural Probabilistic Language Model, 2003

一种新的语言模型： [http://blog.sciencenet.cn/blog-795431-647334.html](http://blog.sciencenet.cn/blog-795431-647334.html)

评论数据的情感分析数据集： [http://www.datatang.com/data/11857](http://www.datatang.com/data/11857)

“结巴”中文分词： [https://github.com/fxsjy/jieba](https://github.com/fxsjy/jieba)

NLPIR汉语分词系统： [http://ictclas.nlpir.org/](http://ictclas.nlpir.org/)

smallseg： [https://code.google.com/p/smallseg/](https://code.google.com/p/smallseg/)

yaha分词： [https://github.com/jannson/yaha](https://github.com/jannson/yaha)

情感分析用词语集（beta版）： [http://www.keenage.com/html/c\_bulletin\_2007.htm](http://www.keenage.com/html/c_bulletin_2007.htm)

NTUSD-简体中文情感极性词典： [http://www.datatang.com/data/11837](http://www.datatang.com/data/11837)

程度副词及强度和否定词表： [http://www.datatang.com/data/44198](http://www.datatang.com/data/44198)

现有情感词典汇总： [http://www.datatang.com/data/46922](http://www.datatang.com/data/46922)

BosonNLP： [http://bosonnlp.com/product](http://bosonnlp.com/product)

### 实现平台 [\#](https://kexue.fm/archives/3360\#%E5%AE%9E%E7%8E%B0%E5%B9%B3%E5%8F%B0)

我们队所做的编程工具，在以下环境中测试完成：

> **Windows 8.1** 微软操作系统。
>
> **Python** 3.4 开发平台/编程语言。选择3.x而不是2.x版本的主要原因是3.x版本对中文字符的支持更好。
>
> **Numpy** Python的一个数值计算库，为Python提供了快速的多维数组处理的能力。
>
> **Pandas** Python的一个数据分析包。
>
> **结巴分词** Python平台的一个中文分词工具，也有Java、C++、Node.js等版本。

### 代码列表 [\#](https://kexue.fm/archives/3360\#%E4%BB%A3%E7%A0%81%E5%88%97%E8%A1%A8)

资源： [情感极性词典.zip](https://kexue.fm/usr/uploads/2017/09/1922797046.zip)

**预处理**

```python

```

**加载情感词典**

```python

```

**预测函数**

```python

```

**简单的测试**

```python

```

_**转载到请包括本文地址：** [https://kexue.fm/archives/3360](https://kexue.fm/archives/3360 "文本情感分类（一）：传统模型")_

_**更详细的转载事宜请参考：**_ [《科学空间FAQ》](https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8 "《科学空间FAQ》")

**如果您还有什么疑惑或建议，欢迎在下方评论区继续讨论。**

**如果您觉得本文还不错，欢迎 [分享](https://kexue.fm/archives/3360#share)/ [打赏](https://kexue.fm/archives/3360#pay) 本文。打赏并非要从中获得收益，而是希望知道科学空间获得了多少读者的真心关注。当然，如果你无视它，也不会影响你的阅读。再次表示欢迎和感谢！**

打赏

![科学空间](https://kexue.fm/usr/themes/geekg/payment/wx.png)

微信打赏

![科学空间](https://kexue.fm/usr/themes/geekg/payment/zfb.png)

支付宝打赏

因为网站后台对打赏并无记录，因此欢迎在打赏时候备注留言。

你还可以 [**点击这里**](http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=tN7d1drY3drrx8H0xcWa19vZ) 或在下方评论区留言来告知你的建议或需求。

**如果您需要引用本文，请参考：**

苏剑林. (Jun. 22, 2015). 《文本情感分类（一）：传统模型 》\[Blog post\]. Retrieved from [https://kexue.fm/archives/3360](https://kexue.fm/archives/3360)

@online{kexuefm-3360,

         title={文本情感分类（一）：传统模型},

         author={苏剑林},

         year={2015},

         month={Jun},

         url={\\url{https://kexue.fm/archives/3360}},

}


分类： [信息时代](https://kexue.fm/category/Big-Data)    标签： [python](https://kexue.fm/tag/python/), [机器学习](https://kexue.fm/tag/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/), [数据挖掘](https://kexue.fm/tag/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/), [文本挖掘](https://kexue.fm/tag/%E6%96%87%E6%9C%AC%E6%8C%96%E6%8E%98/)[61 评论](https://kexue.fm/archives/3360#comments)

< [【翻译】巨型望远镜：要继续，就得有牺牲！](https://kexue.fm/archives/3354 "【翻译】巨型望远镜：要继续，就得有牺牲！") \| [用Pandas实现高效的Apriori算法](https://kexue.fm/archives/3380 "用Pandas实现高效的Apriori算法") >

### 你也许还对下面的内容感兴趣

- [旁门左道之如何让Python的重试代码更加优雅](https://kexue.fm/archives/9938 "旁门左道之如何让Python的重试代码更加优雅")
- [让人惊叹的Johnson-Lindenstrauss引理：应用篇](https://kexue.fm/archives/8706 "让人惊叹的Johnson-Lindenstrauss引理：应用篇")
- [让人惊叹的Johnson-Lindenstrauss引理：理论篇](https://kexue.fm/archives/8679 "让人惊叹的Johnson-Lindenstrauss引理：理论篇")
- [有限内存下全局打乱几百G文件（Python）](https://kexue.fm/archives/8662 "有限内存下全局打乱几百G文件（Python）")
- [6个派生优化器的简单介绍及其实现](https://kexue.fm/archives/7094 "6个派生优化器的简单介绍及其实现")
- [什么时候多进程的加速比可以大于1？](https://kexue.fm/archives/7031 "什么时候多进程的加速比可以大于1？")
- [基于最小熵原理的NLP库：nlp zero](https://kexue.fm/archives/5597 "基于最小熵原理的NLP库：nlp zero")
- [用Numpy实现高效的Apriori算法](https://kexue.fm/archives/5525 "用Numpy实现高效的Apriori算法")
- [增强typecho的搜索功能](https://kexue.fm/archives/4797 "增强typecho的搜索功能")
- [开学啦！咱们来做完形填空～（讯飞杯）](https://kexue.fm/archives/4564 "开学啦！咱们来做完形填空～（讯飞杯）")

[发表你的看法](https://kexue.fm/archives/3360#comment_form)

1. [«](https://kexue.fm/archives/3360/comment-page-3#comments)
2. [1](https://kexue.fm/archives/3360/comment-page-1#comments)
3. [2](https://kexue.fm/archives/3360/comment-page-2#comments)
4. [3](https://kexue.fm/archives/3360/comment-page-3#comments)
5. [4](https://kexue.fm/archives/3360/comment-page-4#comments)

wwt2113041029

November 22nd, 2021

代码复现不出来 咋整

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=17869#respond-post-3360)

Alexjieyang 发表于
November 4th, 2022

都过了这么多年了，PYTHON也都进化到3.11了，肯定该去GITHUB（CSDN也行）找最新代码才对

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=20274#respond-post-3360)

xyzz 发表于
February 4th, 2025

思路挺简单的啊，估计是一些包或者是py版本的问题

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=26444#respond-post-3360)

[python nlp情感分析之极性分析 R11; 源码巴士](https://code84.com/585276.html)

October 12th, 2022

\[...\]文本情感分类（一）：传统模型中提供了一个情感极性词典的下载包，包中带了一个否定词的txt。\[...\]

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=20060#respond-post-3360)

lwx

September 15th, 2023

我的进步从此刻开始，加油

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=22728#respond-post-3360)

空帆船

August 28th, 2024

有趣！

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=25129#respond-post-3360)

jianfan

July 31st, 2025

有用的知识又增加了

[回复评论](https://kexue.fm/archives/3360/comment-page-4?replyTo=28272#respond-post-3360)

1. [«](https://kexue.fm/archives/3360/comment-page-3#comments)
2. [1](https://kexue.fm/archives/3360/comment-page-1#comments)
3. [2](https://kexue.fm/archives/3360/comment-page-2#comments)
4. [3](https://kexue.fm/archives/3360/comment-page-3#comments)
5. [4](https://kexue.fm/archives/3360/comment-page-4#comments)

[取消回复](https://kexue.fm/archives/3360#respond-post-3360)

你的大名

电子邮箱

个人网站（选填）

1\. 可以使用LaTeX代码，点击“预览效果”可查看效果；

2\. 可以通过点击评论楼层编号来引用该楼层；

3\. 网站可能会有点卡，如非确认评论失败，请 **不要重复点击提交**。

### 内容速览

[基于情感词典](https://kexue.fm/archives/3360#%E5%9F%BA%E4%BA%8E%E6%83%85%E6%84%9F%E8%AF%8D%E5%85%B8)
[模型结果检验](https://kexue.fm/archives/3360#%E6%A8%A1%E5%9E%8B%E7%BB%93%E6%9E%9C%E6%A3%80%E9%AA%8C)
[困难所在](https://kexue.fm/archives/3360#%E5%9B%B0%E9%9A%BE%E6%89%80%E5%9C%A8)
[优化思路](https://kexue.fm/archives/3360#%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF)
[参考文献](https://kexue.fm/archives/3360#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)
[实现平台](https://kexue.fm/archives/3360#%E5%AE%9E%E7%8E%B0%E5%B9%B3%E5%8F%B0)
[代码列表](https://kexue.fm/archives/3360#%E4%BB%A3%E7%A0%81%E5%88%97%E8%A1%A8)

### 智能搜索

支持整句搜索！网站自动使用 [结巴分词](https://github.com/fxsjy/jieba) 进行分词，并结合ngrams排序算法给出合理的搜索结果。

### 热门标签

[生成模型](https://kexue.fm/tag/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/) [attention](https://kexue.fm/tag/attention/) [优化](https://kexue.fm/tag/%E4%BC%98%E5%8C%96/) [语言模型](https://kexue.fm/tag/%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/) [模型](https://kexue.fm/tag/%E6%A8%A1%E5%9E%8B/) [梯度](https://kexue.fm/tag/%E6%A2%AF%E5%BA%A6/) [网站](https://kexue.fm/tag/%E7%BD%91%E7%AB%99/) [概率](https://kexue.fm/tag/%E6%A6%82%E7%8E%87/) [矩阵](https://kexue.fm/tag/%E7%9F%A9%E9%98%B5/) [优化器](https://kexue.fm/tag/%E4%BC%98%E5%8C%96%E5%99%A8/) [转载](https://kexue.fm/tag/%E8%BD%AC%E8%BD%BD/) [微分方程](https://kexue.fm/tag/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/) [分析](https://kexue.fm/tag/%E5%88%86%E6%9E%90/) [天象](https://kexue.fm/tag/%E5%A4%A9%E8%B1%A1/) [深度学习](https://kexue.fm/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/) [积分](https://kexue.fm/tag/%E7%A7%AF%E5%88%86/) [python](https://kexue.fm/tag/python/) [扩散](https://kexue.fm/tag/%E6%89%A9%E6%95%A3/) [力学](https://kexue.fm/tag/%E5%8A%9B%E5%AD%A6/) [无监督](https://kexue.fm/tag/%E6%97%A0%E7%9B%91%E7%9D%A3/) [几何](https://kexue.fm/tag/%E5%87%A0%E4%BD%95/) [节日](https://kexue.fm/tag/%E8%8A%82%E6%97%A5/) [生活](https://kexue.fm/tag/%E7%94%9F%E6%B4%BB/) [文本生成](https://kexue.fm/tag/%E6%96%87%E6%9C%AC%E7%94%9F%E6%88%90/) [数论](https://kexue.fm/tag/%E6%95%B0%E8%AE%BA/)

### 随机文章

- [WGAN的成功，可能跟Wasserstein距离没啥关系](https://kexue.fm/archives/8244)
- [流形上的最速下降：2\. Muon + 正交](https://kexue.fm/archives/11215)
- [纠缠的时空（二）：洛仑兹变换的矩阵(续)](https://kexue.fm/archives/1923)
- [流体静力平衡的应用](https://kexue.fm/archives/1964)
- [\[共享\]不等式文集](https://kexue.fm/archives/1689)
- [又是Dropout两次！这次它做到了有监督任务的SOTA](https://kexue.fm/archives/8496)
- [勒贝格(Lebesgue)控制收敛定理](https://kexue.fm/archives/3194)
- [Nyströmformer：基于矩阵分解的线性化Attention方案](https://kexue.fm/archives/8180)
- [多标签“Softmax+交叉熵”的软标签版本](https://kexue.fm/archives/9064)
- [更别致的词向量模型(四)：模型的求解](https://kexue.fm/archives/4675)

### 最近评论

- [Bin](https://kexue.fm/archives/1990/comment-page-2#comment-29105): 今天偶然从某个论坛看到有人推荐您的博客，定睛一看竟然是华师同院的往届师兄！看到这篇2013年的...
- [Rapture D](https://kexue.fm/archives/11530/comment-page-1#comment-29104): 我有一个问题，为什么不考虑亥姆霍兹定理和斯托克斯公式。
- [mofheka](https://kexue.fm/archives/11390/comment-page-1#comment-29103): 苏神是还在用jax是么？最近在做基于Google Pathway的理念做一个动态版的MPMD框...
- [长琴](https://kexue.fm/archives/11530/comment-page-1#comment-29102): 看懂这篇博客也不是一件容易的事情。
- [AlexLi](https://kexue.fm/archives/9257/comment-page-4#comment-29101): 苏老师，请教一下(7)式中将 $\\mu(x\_t)$ 传给 $p\_o$ 进行推理的操作。 $x\_...
- [tyler\_zxc](https://kexue.fm/archives/7921/comment-page-2#comment-29100): "Performer的思想是将标准的Attention线性化，所以为什么不干脆直接训练一个线性...
- [我](https://kexue.fm/archives/11494/comment-page-1#comment-29099): 似乎并非mHC提出矩阵的思想？之前hyper connection就是了
- [winter](https://kexue.fm/archives/10847/comment-page-1#comment-29098): 苏神您好，假如对于比较均匀的attention weightP，往往呈现long tail分布...
- [苏剑林](https://kexue.fm/archives/8512/comment-page-2#comment-29097): KL散度、JS散度、W距离啥的，都行啊，看你喜欢哪个
- [苏剑林](https://kexue.fm/archives/9119/comment-page-14#comment-29096): 没有绝对公平的对比方法，主要看你关心什么。比如，如果只关心推理成本和推理效果，那么有的方法可以...

### 友情链接

- [Cool Papers](https://papers.cool/)
- [数学研发](https://bbs.emath.ac.cn/)
- [Seatop](http://www.seatop.com.cn/)
- [Xiaoxia](https://xiaoxia.org/)
- [积分表-网络版](https://kexue.fm/sci/integral/index.html)
- [丝路博傲](http://blog.dvxj.com/)
- [数学之家](http://www.2math.cn/)
- [有趣天文奇观](http://interesting-sky.china-vo.org/)
- [TwistedW](http://www.twistedwg.com/)
- [godweiyang](https://godweiyang.com/)
- [AI柠檬](https://blog.ailemon.net/)
- [王登科-DK博客](https://greatdk.com/)
- [ESON](https://blog.eson.org/)
- [枫之羽](https://fzhiy.net/)
- [coding-zuo](https://coding-zuo.github.io/)
- [博科园](https://www.bokeyuan.net/)
- [孔皮皮的博客](https://www.kppkkp.top/)
- [运鹏的博客](https://yunpengtai.top/)
- [jiming.site](https://jiming.site/)
- [OmegaXYZ](https://www.omegaxyz.com/)
- [EAI猩球](https://www.robotech.ink/)
- [文举的博客](https://liwenju0.com/)
- [申请链接](https://kexue.fm/links.html)

[![署名-非商业用途-保持一致](https://kexue.fm/usr/themes/geekg/images/cc.gif)](http://creativecommons.org/licenses/by-nc-nd/2.5/cn/) 本站采用创作共用版权协议，要求署名、非商业用途和保持一致。转载本站内容必须也遵循“ [署名-非商业用途-保持一致](http://creativecommons.org/licenses/by-nc-nd/2.5/cn/)”的创作共用协议。



© 2009-2026 Scientific Spaces. All rights reserved. Theme by [laogui](http://www.laogui.com/). Powered by [Typecho](http://typecho.org/). 备案号: [粤ICP备09093259号-1/2](https://beian.miit.gov.cn/ "粤ICP备09093259号")。