
    <style type="text/css">

    body {
    margin: 48px auto;
    max-width: 68ch;              /* character-based width reads better */
    padding: 0 16px;

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    line-height: 1.65;
    color: #333;
    background: #fafafa;
    }

    h1, h2, h3, h4 {
    line-height: 1.25;
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    font-weight: 600;
    }

    h1 {
    font-size: 2.1em;
    margin-top: 0;
    }

    h2 {
    font-size: 1.6em;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 0.3em;
    }

    h3 {
    font-size: 1.25em;
    }

    h4 {
    font-size: 1.05em;
    color: #555;
    }

    /* Paragraphs and lists */
    p {
    margin: 1em 0;
    }

    ul, ol {
    margin: 1em 0 1em 1.5em;
    }

    li {
    margin: 0.4em 0;
    }

    a {
    color: #005fcc;
    text-decoration: none;
    }

    a:hover {
    text-decoration: underline;
    }

    code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.95em;
    background: #f2f2f2;
    padding: 0.15em 0.35em;
    border-radius: 4px;
    }

    pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 1em 1.2em;
    overflow-x: auto;
    border-radius: 6px;
    line-height: 1.45;
    }

    pre code {
    background: none;
    padding: 0;
    }

    blockquote {
    margin: 1.5em 0;
    padding-left: 1em;
    border-left: 4px solid #ddd;
    color: #555;
    }

    hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 3em 0;
    }

    table {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    font-size: 0.95em;
    }

    th, td {
    padding: 0.5em 0.7em;
    border-bottom: 1px solid #e5e5e5;
    text-align: left;
    }

    th {
    font-weight: 600;
    }

    img {
    max-width: 100%;
    display: block;
    margin: 1.5em auto;
    }

    small {
    color: #666;
    }

    mjx-container {
    margin: 1em 0;
    }

    ::selection {
    background: #cce2ff;
    }

    </style>
    

<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    tags: 'ams',
    packages: {'[+]': ['base', 'ams', 'noerrors', 'noundefined']}
  },
  loader: {load: ['[tex]/ams']}
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<article>
    <h1><a href="https://kexue.fm/archives/10088">Cool Papers Update: Simply Built an In-site Search System</a></h1>
    <p>By 苏剑林 | May 07, 2024</p>

    <p>Since <a href="translation_9978.html">"A More Convenient Way to Open Cool Papers: Chrome Redirect Extension"</a>, <a href="http://papers.cool">Cool Papers</a> has undergone two major changes. One is the introduction of the venue branch, which is gradually including the paper sets of various conferences over the years, such as ICLR, ICML, etc. This part is manually expanded dynamically, and readers are welcome to suggest more of their favorite conferences. The other change is the subject of this article: the new in-site search function added the day before yesterday.</p>

    <p>This article will briefly introduce the new features and summarize the process of building the in-site search system.</p>

    <h2 id="简介">Introduction</h2>
    <p>On the homepage of Cool Papers, we see the search entry:</p>
    <p>Cool Papers (2024.05.07)</p>
    <p>The features of the search function are as follows:</p>
    <blockquote>
        <ol>
            <li>Only searches the 'title' and 'summary' fields; specifying other fields is not yet supported.</li>
            <li>You can specify to search either the arxiv branch or the venue branch; mixed searching across branches is not supported.</li>
            <li>Special characters (non-English letters and numbers) in the search query will be removed.</li>
            <li>Search query words are not automatically stemmed, meaning searching for "images" will not match "image".</li>
            <li>On the search results page, it can be used in combination with the original in-page search function.</li>
        </ol>
    </blockquote>
    <p>In general, it is currently a very simple text search function, meant to satisfy the basic needs of some users first. For more complex requirements, updates will be rolled out gradually. Planned features to be introduced include specifying fields, searching Kimi FAQ content, sorting by stars, specifying dates/categories (for arxiv), specifying conferences (for venue), and even enabling additive/subtractive logic (to exclude certain keywords) like a standard search engine. These will depend on follow-up feedback from users; there is no fixed schedule yet.</p>

    <h2 id="总结">Summary</h2>
    <p>In fact, the demand for in-site search has been raised by users since Cool Papers was opened to the public at the beginning of the year. The reason it was delayed until now is mainly because Cool Papers collects papers daily, and at the beginning, the number of papers was small, so in-site search was not very meaningful. After more than four months of accumulation, the number of Arxiv papers collected by Cool Papers has reached over 80,000, and along with the conference papers in the venue branch, it has also reached over 80,000. With nearly 170,000 papers currently, it is worth searching through.</p>

    <p>Once it was decided it could be done, the next step was how to do it. A search system that retrieves article content based on keywords is called "Full-text Search." Generally, these are built based on inverted indexes and BM25 similarity, which means the algorithms are mature. In terms of implementation, the backend of Cool Papers is <a href="https://bottlepy.org">BottlePy</a>, so we had to find a full-text search library available for Python to conveniently integrate it into Cool Papers.</p>

    <p>There aren't many choices for the "Python + Full-text Search" combination. The most classic is a library called <a href="https://pypi.org/project/Whoosh/">Whoosh</a>. From a functionality standpoint, it could indeed meet the needs of Cool Papers. However, the problem with Whoosh is that it hasn't been updated since April 2016, leading to concerns about potential hidden issues. Another option is to directly switch to a database with full-text search capabilities, such as MongoDB. If data had been stored in MongoDB from the start, this would undoubtedly be the simplest solution. However, Cool Papers chose to use Python's built-in key-value database, Shelve. Switching to MongoDB now would involve too much engineering work, and for the simple scenarios of Cool Papers, MongoDB's speed wouldn't match Shelve.</p>

    <p>After multiple fruitless searches, I unexpectedly discovered a tiny but powerful alternative to Whoosh—<a href="https://tantivy-py.readthedocs.io/en/latest/">tantivy</a>. This is a full-text search library written in Rust, but it provides Python bindings so it can be used as a Python library. Its API is similar to Whoosh, and it is still being actively updated. As is well known, Rust is famous for its efficiency, so one could say tantivy fulfills all my ideals for a full-text search library—speed, small footprint, and simplicity.</p>

    <p>After selecting the full-text search library, the remaining task was the front-end work. In <a href="translation_9920.html">"Happy New Year! Recording the Development Experience of Cool Papers"</a>, I mentioned that I am an absolute front-end novice with no artistic sense. Designing a UI is extremely difficult for me; I could only rely on constant searching, copy-pasting, and seeking help from GPT-4 and Kimi. After various bits of "cobbling together" and "patching up," I finally managed to create a usable interface. During the development process, I also optimized the original built-in page search; using the page search now should feel significantly faster.</p>

    <h2 id="末尾">Final Words</h2>
    <p>During the May Day holiday, while everyone was looking at KAN (<a href="https://papers.cool/arxiv/2404.19756">Kolmogorov-Arnold Networks</a>), I took a bit of a break. Instead of reading papers, I added the in-site search function to Cool Papers. I wouldn't say it "emerged after a thousand calls" (was long-awaited), but it is a feature that some users have been pushing for for a long time. Here is a brief introduction and an experience summary of the implementation.</p>

    <p>
        <em><strong>Reprinting: Please include the address of this article:</strong> <a href="translation_10088.html">https://kexue.fm/archives/10088</a></em><br>
        <em><strong>For more detailed reprinting matters, please refer to:</strong> <a href="https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8">"Scientific Spaces FAQ"</a></em>
    </p>

    <p><strong>If you have any doubts or suggestions, please continue the discussion in the comments section below.</strong></p>

    <p><strong>If you found this article helpful, you are welcome to <a href="https://kexue.fm/archives/10088#share">share</a> or <a href="https://kexue.fm/archives/10088#pay">donate to</a> this post. Donations are not about profit, but to let me know how many readers truly follow "Scientific Spaces." Of course, if you ignore it, it will not affect your reading. Welcome and thank you once again!</strong></p>

    <p>Su Jianlin. (May. 07, 2024). "Cool Papers Update: Simply Built an In-site Search System" [Blog post]. Retrieved from <a href="translation_10088.html">https://kexue.fm/archives/10088</a></p>

    <pre>@online{kexuefm-10088,
        title={Cool Papers Update: Simply Built an In-site Search System},
        author={Su Jianlin},
        year={2024},
        month={May},
        url={\url{https://kexue.fm/archives/10088}},
}</pre>
</article>
<hr>
<footer style="margin-top: 3em; padding: 1.5em; background: #f5f5f5; border-radius: 8px; font-size: 0.9em; color: #555;">
    <p style="margin: 0 0 0.5em 0;"><strong>Citation</strong></p>
    <p style="margin: 0 0 0.5em 0;">
        This is a machine translation of the original Chinese article:<br>
        <a href="translation_10088.html" style="color: #005fcc;">https://kexue.fm/archives/10088</a>
    </p>
    <p style="margin: 0 0 0.5em 0;">
        Original author: 苏剑林 (Su Jianlin)<br>
        Original publication: <a href="https://kexue.fm" style="color: #005fcc;">科学空间 (Scientific Spaces)</a>
    </p>
    <p style="margin: 0; font-style: italic;">
        Translated using Gemini 3 Flash. Please refer to the original for authoritative content.
    </p>
</footer>
