
    <style type="text/css">

    body {
    margin: 48px auto;
    max-width: 68ch;              /* character-based width reads better */
    padding: 0 16px;

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    line-height: 1.65;
    color: #333;
    background: #fafafa;
    }

    h1, h2, h3, h4 {
    line-height: 1.25;
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    font-weight: 600;
    }

    h1 {
    font-size: 2.1em;
    margin-top: 0;
    }

    h2 {
    font-size: 1.6em;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 0.3em;
    }

    h3 {
    font-size: 1.25em;
    }

    h4 {
    font-size: 1.05em;
    color: #555;
    }

    /* Paragraphs and lists */
    p {
    margin: 1em 0;
    }

    ul, ol {
    margin: 1em 0 1em 1.5em;
    }

    li {
    margin: 0.4em 0;
    }

    a {
    color: #005fcc;
    text-decoration: none;
    }

    a:hover {
    text-decoration: underline;
    }

    code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.95em;
    background: #f2f2f2;
    padding: 0.15em 0.35em;
    border-radius: 4px;
    }

    pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 1em 1.2em;
    overflow-x: auto;
    border-radius: 6px;
    line-height: 1.45;
    }

    pre code {
    background: none;
    padding: 0;
    }

    blockquote {
    margin: 1.5em 0;
    padding-left: 1em;
    border-left: 4px solid #ddd;
    color: #555;
    }

    hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 3em 0;
    }

    table {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    font-size: 0.95em;
    }

    th, td {
    padding: 0.5em 0.7em;
    border-bottom: 1px solid #e5e5e5;
    text-align: left;
    }

    th {
    font-weight: 600;
    }

    img {
    max-width: 100%;
    display: block;
    margin: 1.5em auto;
    }

    small {
    color: #666;
    }

    mjx-container {
    margin: 1em 0;
    }

    ::selection {
    background: #cce2ff;
    }

    </style>
    

<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    tags: 'ams',
    packages: {'[+]': ['ams']}
  },
  options: {
    renderActions: {
      findScript: [10, function (doc) {
        for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
          const display = !!node.type.match(/; *mode=display/);
          const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
          const text = document.createTextNode('');
          node.parentNode.replaceChild(text, node);
          math.start = {node: text, delim: '', n: 0};
          math.end = {node: text, delim: '', n: 0};
          doc.math.push(math);
        }
      }, '']
    }
  }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<article>
    <h1><a href="https://kexue.fm/archives/10394">Achieving Smart Gas Stove Shut-off Using "Flameout Protection + Smart Switch"</a></h1>

    <p>By 苏剑林 | September 26, 2024</p>

    <p>Smart gas stoves primarily move in two directions: first, detecting the ON/OFF state of the flame to enable linkage with other devices like range hoods; second, achieving smart shut-off, which includes scheduled turn-off and integration with Mi Home (or other smart home systems) for voice-controlled or remote shut-off. Currently, there are not many gas stove options with these two features, and they are significantly more expensive than standard gas stoves. Replacing a functional stove just for these features is not very cost-effective, which has led to several "modding" solutions for standard gas stoves.</p>

    <p>
        <img src="https://kexue.fm/usr/uploads/2024/09/2717088927.png" alt="Setup Diagram" /><br />
        <em>Setup Diagram</em>
    </p>

    <p>This article shares a method based on the gas stove's built-in flameout protection device, using a smart switch (breaker) to integrate the stove into Mi Home and achieve smart shut-off functionality.</p>

    <h2>Existing Products</h2>

    <p>If we are strictly talking about "timed shut-off," there are already products on the market. Their principle is to replace the gas stove knob with an electric knob that has a timer function. When the time is up, it physically turns the knob to extinguish the flame. Their common characteristics are that they are ugly and expensive, with unit prices starting at over 100 RMB; adding them to both sides costs at least 300 RMB, which is nearly the price of a standard gas stove.</p>

    <p>Furthermore, these products generally only offer timed shut-off and do not support integration into smart home ecosystems. For voice or remote shut-off, the author found only one product called "Zhirongxing" available, which only supports the Xiaodu ecosystem and costs over 300 RMB for a single side. This means the accessories for one burner can cost as much as a whole stove, which is hard to justify.</p>

    <p>The reason these products are overpriced and unsightly (beyond some "IQ tax") is that using a knob to turn off the flame requires a motor, complicating the design. After analysis and testing, the author found that the simplest and virtually invisible smart shut-off implementation is to utilize the stove's own flameout protection device.</p>

    <h2>Flameout Protection</h2>

    <p>Most modern gas stoves, whether for natural gas or LPG, are equipped with flameout protection devices (the author hasn't seen one without it). Its purpose is to automatically cut off the gas if the flame goes out accidentally while the valve is open, preventing accidents. How can you tell if yours has one? If your stove requires you to press down on the knob to ignite, and if letting go immediately after the flame appears causes it to go out, then it basically has flameout protection.</p>

    <p>Regarding the principle of flameout protection, readers can watch <a href="https://www.bilibili.com/video/BV1GZ4y1X7qf/">this video</a> on Bilibili. After watching, readers who have experience DIYing smart homes should already know what to do next.</p>

    <p>In fact, the composition of the flameout protection device is very simple: it consists of a thermocouple that converts heat into electricity and a gas pipe valve triggered by an electromagnet, as shown below. During ignition, we manually open the valve by pressing the knob and then ignite. Once there is a flame, the thermocouple detects the heat and generates electricity, which enables the electromagnet to hold the valve open. If the flame goes out accidentally, the thermocouple stops generating electricity, the electromagnet loses its magnetism, and the valve closes automatically.</p>

    <p>
        <img src="https://kexue.fm/usr/uploads/2024/09/1647895066.png" alt="Flameout Protection Schematic" /><br />
        <em>Flameout Protection Schematic</em>
    </p>

    <h2>Normally Closed Switch</h2>

    <p>With this foundation, achieving Mi Home smart shut-off is easy. We only need to wire a smart switch in series with the flameout protection device. To shut off the gas, use the smart switch to break the circuit; the electromagnet will lose magnetism, cutting off the gas without needing to move the knob.</p>

    <p>
        <img src="https://kexue.fm/usr/uploads/2024/09/393392461.png" alt="Series NC Switch" /><br />
        <em>Wiring a Normally Closed (NC) Smart Switch in Series</em>
    </p>

    <p>To achieve a perfect integration, we need one of the following Mi Home compatible materials:</p>

    <blockquote>
        <p>1. A four-channel smart switch with Normally Closed (NC) capability;</p>
        <p>2. A two-channel smart switch with NC capability, plus two virtual status registers;</p>
    </blockquote>

    <p>Additionally, <strong>it is best to have a power outlet near the gas stove</strong>, as staying connected to Mi Home consumes significant power, making battery life difficult to maintain.</p>

    <p>Some readers might wonder: a stove usually has two burners, so why a four-channel switch? The reason will soon be clear. First, let's explain the need for "Normally Closed" (NC). "Normally Closed" means that in a powered-off state (no power to the switch itself), the circuit remains closed/connected. This is obviously necessary so that the stove can still ignite normally if there is a power outage. If you can accept that the stove won't work without power, then a standard "Normally Open" (NO) switch would suffice.</p>

    <p>Once ready, you need to wire the switch in series with the flameout protection system using the NC terminals. This involves disassembling the stove; please research this yourself. Standard stoves are usually not hard to open, and the flameout protection device is quite distinct and easy to find. Overall, the difficulty should be manageable. Unfamiliar readers can watch stove disassembly videos online first.</p>

    <h2>Reversing the Switch</h2>

    <p>After installing the switch and adding it to Mi Home, we can control the circuit. However, we encounter a "comical" situation: the switch state in Mi Home is the opposite of the circuit state. That is, when the Mi Home app shows the switch is "ON," the circuit is actually broken (the relay is energized to open the NC contact), and when it shows "OFF," the circuit is connected. This is because the firmware assumes a Normally Open wiring; using the NC terminal reverses the logic.</p>

    <p>Consequently, you would have to tell XiaoAI to "Turn ON the stove" to shut it off. Savvy readers might think: I can just set up a manual scene in Mi Home called "Stove OFF" that triggers the "ON" state of the switch to solve the voice command issue. Yes, that works for voice, but if you tell XiaoAI "Turn off the stove in ten minutes," Mi Home will still execute a "Turn OFF" operation (which, due to the inversion, actually maintains the connection and keeps the stove on).</p>

    <p>Therefore, we need a way to completely invert the switch logic. This is where the additional two channels come in. We connect the flameout protection to the NC terminals of channels 1 and 2. Then, we set up an automation in Mi Home: when channel 3/4 is turned OFF, turn channel 1/2 ON. We rename the switches for channels 3/4 as "Gas Stove." This way, when we tell XiaoAI to "Turn off the gas stove," it turns off channel 3/4, and the automation triggers channel 1/2, thereby breaking the circuit and shutting off the stove.</p>

    <p>Channels 3 and 4 have no physical wiring; they only serve to store status. You can also use separate status registers (which are basically virtual switches without relays) to achieve this, but I won't expand on that here.</p>

    <h2>Summary</h2>

    <p>Finally, let's summarize. To achieve smart shut-off using the flameout protection device, you hardware-wise need a four-channel smart switch and to wire the NC terminals of channels 1/2 in series with the flameout protection circuits. In Mi Home, set up an automation so that turning OFF channel 3/4 triggers channel 1/2. Additionally, set each channel to "inching" (momentary) mode, set the default state of channels 1/2 to ON, and channels 3/4 to OFF.</p>

    <p><em><strong>Reproduction of this article must include the original address:</strong> <a href="https://kexue.fm/archives/10394">https://kexue.fm/archives/10394</a></em></p>

    <p><em><strong>For more detailed reproduction matters, please refer to:</strong></em> <a href="https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8">"Scientific Spaces FAQ"</a></p>

    <p><strong>If you have any questions or suggestions, please feel free to discuss them in the comments section below.</strong></p>

    <p><strong>If you found this article helpful, you are welcome to [Share] or [Reward] this post. Rewards are not intended for profit, but to let the author know how many readers are truly interested. Of course, ignoring it will not affect your reading. Thank you again!</strong></p>

    <p>Su Jianlin. (Sep. 26, 2024). "Achieving Smart Gas Stove Shut-off Using 'Flameout Protection + Smart Switch'" [Blog post]. Retrieved from <a href="https://kexue.fm/archives/10394">https://kexue.fm/archives/10394</a></p>

</article>
<hr>
<footer style="margin-top: 3em; padding: 1.5em; background: #f5f5f5; border-radius: 8px; font-size: 0.9em; color: #555;">
    <p style="margin: 0 0 0.5em 0;"><strong>Citation</strong></p>
    <p style="margin: 0 0 0.5em 0;">
        This is a machine translation of the original Chinese article:<br>
        <a href="https://kexue.fm/archives/10394" style="color: #005fcc;">https://kexue.fm/archives/10394</a>
    </p>
    <p style="margin: 0 0 0.5em 0;">
        Original author: 苏剑林 (Su Jianlin)<br>
        Original publication: <a href="https://kexue.fm" style="color: #005fcc;">科学空间 (Scientific Spaces)</a>
    </p>
    <p style="margin: 0; font-style: italic;">
        Translated using Gemini 3 Flash. Please refer to the original for authoritative content.
    </p>
</footer>
