
    <style type="text/css">

    body {
    margin: 48px auto;
    max-width: 68ch;              /* character-based width reads better */
    padding: 0 16px;

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    line-height: 1.65;
    color: #333;
    background: #fafafa;
    }

    h1, h2, h3, h4 {
    line-height: 1.25;
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    font-weight: 600;
    }

    h1 {
    font-size: 2.1em;
    margin-top: 0;
    }

    h2 {
    font-size: 1.6em;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 0.3em;
    }

    h3 {
    font-size: 1.25em;
    }

    h4 {
    font-size: 1.05em;
    color: #555;
    }

    /* Paragraphs and lists */
    p {
    margin: 1em 0;
    }

    ul, ol {
    margin: 1em 0 1em 1.5em;
    }

    li {
    margin: 0.4em 0;
    }

    a {
    color: #005fcc;
    text-decoration: none;
    }

    a:hover {
    text-decoration: underline;
    }

    code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.95em;
    background: #f2f2f2;
    padding: 0.15em 0.35em;
    border-radius: 4px;
    }

    pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 1em 1.2em;
    overflow-x: auto;
    border-radius: 6px;
    line-height: 1.45;
    }

    pre code {
    background: none;
    padding: 0;
    }

    blockquote {
    margin: 1.5em 0;
    padding-left: 1em;
    border-left: 4px solid #ddd;
    color: #555;
    }

    hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 3em 0;
    }

    table {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    font-size: 0.95em;
    }

    th, td {
    padding: 0.5em 0.7em;
    border-bottom: 1px solid #e5e5e5;
    text-align: left;
    }

    th {
    font-weight: 600;
    }

    img {
    max-width: 100%;
    display: block;
    margin: 1.5em auto;
    }

    small {
    color: #666;
    }

    mjx-container {
    margin: 1em 0;
    }

    ::selection {
    background: #cce2ff;
    }

    </style>
    

<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    packages: {'[+]': ['ams']},
    tags: 'ams'
  }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<article>
    <h1><a href="https://kexue.fm/archives/3495">Friends, Let's Have a Bottle of Soda! The Interesting Soda Exchange Problem</a></h1>

    <p>By 苏剑林 | October 28, 2015</p>

    <p>
        By 苏剑林 | Oct 28, 2015 | 37034 readers<br>
        ———— Reminiscing about the elementary school math competitions I once participated in.
    </p>

    <h3 id="从一道小学竞赛题谈起">Starting from an Elementary School Competition Problem <a href="https://kexue.fm/archives/3495#%E4%BB%8E%E4%B8%80%E9%81%93%E5%B0%8F%E5%AD%A6%E7%AB%9E%E8%B5%9B%E9%A2%98%E8%B0%88%E8%B5%B7">#</a></h3>
    <p>When I was in the fifth grade of elementary school, I participated in my first math competition called the "Yu Miao Cup." I don't remember most of the questions, but the only one I remember clearly is the following (not exactly the same, but the meaning is similar):</p>
    <blockquote>Suppose a bottle of soda costs one dollar, and 4 empty bottles can be exchanged for one new bottle of soda. If I have 30 dollars, what is the maximum number of bottles of soda I can drink?</blockquote>
    <p>Of course, the above situation might be too ideal, but it must be admitted that similar cases exist extensively in real life. For example, when buying turtles for food, because turtle shells can be used in medicine, some people recycle them, which means a certain number of turtle shells can be exchanged for a turtle, and so on. Can the readers calculate this quickly?</p>
    <p>Of course, this problem is not difficult. With 30 dollars, you can buy 30 bottles of soda, leaving 30 empty bottles. These 30 empty bottles can be exchanged for 7 bottles of soda, with 2 empty bottles left over. After drinking those, you have 9 empty bottles, which can be exchanged for 2 more bottles, leaving 1 empty bottle. After drinking those, you are left with 3 empty bottles. Let's count: at this point, we have drunk $30 + 7 + 2 = 39$ bottles of soda. (Assuming we don't burst; you could also share them with others ^_^) The entire process is shown in the table below:</p>
    
    $$\begin{array}{c|cccc}
    \hline
    \text{Empty Bottle Count} & 30 & 2+7 & 1+2 & ? \\
    \hline
    \text{Sodas Drunk} & 30 & 7 & 2 & ? \\
    \hline \end{array}$$

    <p>Is this the final answer? It seems to be, as we have 3 empty bottles left, which isn't enough to exchange for another. However, a clever trick is — "borrow" one bottle of soda first. After drinking it, you will have 4 empty bottles, which you then use to pay back the debt! So the correct answer is 40 bottles! Ingenious, right? Please don't worry about whether borrowing is allowed; the question asks for the "maximum," so theoretically, it is possible. This tests our creativity in addition to our calculation skills! (Why do I remember this so clearly? Because I wasn't creative enough and got it wrong back then...)</p>
    <p>After finishing the soda, we can analyze the problem from another perspective. First, consider this: 4 empty bottles are exchanged for 1 bottle of soda. After drinking it, 1 empty bottle remains. This means that 3 empty bottles are essentially equivalent to 1 bottle of "pure soda" (soda without the bottle). In this case, our 30 empty bottles can be exchanged for 10 bottles of "pure soda," immediately giving us the answer $30 + 10 = 40$ bottles:</p>
    
    $$30+30\div (4-1)=40$$

    <p>From yet another angle, we can consider the value of the empty bottle. This perspective is easier to generalize. Since empty bottles can be exchanged for soda, they have value. That is to say, the unit price of 1 dollar for a bottle of soda actually consists of the unit price of the "pure soda" ($x$) and the unit price of the empty bottle ($y$), i.e., $x+y=1$. Secondly, 4 empty bottles can be exchanged for one bottle of soda, which means the value of 4 empty bottles is 1 dollar, i.e., $4y=1$. From this, we can calculate $x=3/4$, meaning the price of a "pure soda" is actually $3/4$ dollars! We have 30 dollars and want to convert it all into "pure soda" (meaning we just want the liquid and don't care about keeping the bottles), so we can drink $30\div (3/4)=40$ bottles!</p>

    <h3 id="加强版的换汽水">Enhanced Version of the Soda Exchange <a href="https://kexue.fm/archives/3495#%E5%8A%A0%E5%BC%BA%E7%89%88%E7%9A%84%E6%8D%A2%E6%B1%BD%E6%B0%B4">#</a></h3>
    <p>The above problem can be generalized further:</p>
    <blockquote>Suppose a bottle of soda costs one dollar, and 4 empty bottles can be exchanged for one bottle of soda, or 8 caps can also be exchanged for one bottle. If I have 30 dollars, what is the maximum number of bottles of soda I can drink?</blockquote>
    <p>Now a bottle of soda is divided into three parts: pure soda, the empty bottle, and the cap. The problem has become more complex. Note that both empty bottles and caps can be exchanged for soda, and each exchange brings new empty bottles and caps, continuing indefinitely. Let's first calculate according to the most primitive method: exchange the bottles first, then the caps, until everything is exhausted. When exchanging one item at a time, we can use the results from our simplified problem, dividing by $(4-1=3)$ and $(8-1=7)$ respectively:</p>

    $$\begin{array}{c|cccc}
    \hline
    \text{Cap Count} & 30 & 30+10 & 5 & 5+1\\
    \hline
    \text{Bottle Count} & 30 & 0 & 0+5 & 2 \\
    \hline
    \text{Sodas Drunk} & 30 & 10 & 5 & 1\\
    \hline \end{array}$$

    <p>Now we have 46 bottles, with 2 bottles and 6 caps left. It seems we can't get any more, because borrowing 1 bottle won't be enough to pay back. — Wait, borrowing 1 bottle won't work, but what about 2 bottles? If we borrow 2 bottles, we get 4 empty bottles and 8 caps, which is exactly enough to settle the debt! So the final result is 48 bottles. Here, at the very end, we borrowed two bottles and paid them back using the bottles and caps respectively! Yes, don’t limit yourself to not borrowing, and don’t limit yourself to borrowing only 1 bottle; as long as you have enough bottles and caps to cover the debt, you can borrow more!</p>
    <p>Is there a direct logical path to this result? Yes! The "value" logic used above can be applied. Let the unit prices of "pure soda," empty bottles, and caps be $x, y, z$ respectively. We can set up the following equations:</p>

    $$\left\{\begin{aligned}&x+y+z=1\\
    &4y=1\\
    &8z=1\end{aligned}\right.$$

    <p>Solving this gives $x=5/8$, which is the price of the pure soda. Therefore, we can ultimately drink $30 \div (5/8) = 48$ bottles of pure soda.</p>
    <p>Readers should see the pattern now. The answer is:</p>
    
    $$30\div\left(1-\frac{1}{4}-\frac{1}{8}\right)=48$$
    
    <p>If it cannot be divided evenly, simply take the integer part. Obviously, the expression in the parentheses follows a unified rule. Is there a more direct way to explain it?</p>

    <h3 id="反过来从结果到过程">Reversing it: From Result to Process <a href="https://kexue.fm/archives/3495#%E5%8F%8D%E8%BF%87%E6%9D%A5%EF%BC%8C%E4%BB%8E%E7%BB%93%E6%9E%9C%E5%88%B0%E8%BF%87%E7%A8%8B">#</a></h3>
    <p>In fact, one can think backwards to obtain a more direct approach. Suppose the final result is $W$ bottles. We naturally expect that to drink these $W$ bottles, we have "exhausted all resources" — used up all bottles and caps. This means the number of bottles exchanged from empty bottles is $\frac{W}{4}$, the number of bottles exchanged from caps is $\frac{W}{8}$, and the remainder is our initial cost of 30 bottles. Thus:</p>
    
    $$W=\frac{W}{4}+\frac{W}{8}+30$$
    
    <p>Which gives:</p>
    
    $$W=30\div\left(1-\frac{1}{4}-\frac{1}{8}\right)=48$$

    <h3 id="再比较一下">One More Comparison <a href="https://kexue.fm/archives/3495#%E5%82%8D%E6%AF%94%E8%BE%83%E4%B8%80%E4%B8%8B">#</a></h3>
    <p>We have provided several approaches to this problem: direct, indirect, forward, and backward. Which method is the best? It’s hard to say; everyone has their own preference. However, if asked which method is the most practical (the widest range of applications), the "value" approach seems the easiest for analysis, specifically looking at what the unit price of each part should be. For example, consider the following generalization:</p>
    <blockquote>Suppose a bottle of soda costs one dollar, and "3 empty bottles + 2 caps" can be exchanged for one bottle, or "2 empty bottles + 4 caps" can also be exchanged for one bottle. Neither empty bottles nor caps can be exchanged individually. If I have 30 dollars, what is the maximum number of bottles I can drink?</blockquote>
    <p>For such mixed exchange rules, apart from the value method, there seems to be no better way. Thinking backwards also works, but the equations generated are essentially the same as the value method and do not reduce complexity. (If readers have better ideas, feel free to leave a comment.)</p>

    <p>
        <em><strong>Reprinting: Please include the original address of this article:</strong> <a href="https://kexue.fm/archives/3495">https://kexue.fm/archives/3495</a></em><br>
        <em><strong>For more detailed reprinting information, please refer to:</strong> <a href="https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8">"Scientific Spaces FAQ"</a></em>
    </p>

    <p>Su Jianlin. (Oct. 28, 2015). "Friends, Let's Have a Bottle of Soda! The Interesting Soda Exchange Problem" [Blog post]. Retrieved from <a href="https://kexue.fm/archives/3495">https://kexue.fm/archives/3495</a></p>

</article>
<hr>
<footer style="margin-top: 3em; padding: 1.5em; background: #f5f5f5; border-radius: 8px; font-size: 0.9em; color: #555;">
    <p style="margin: 0 0 0.5em 0;"><strong>Citation</strong></p>
    <p style="margin: 0 0 0.5em 0;">
        This is a machine translation of the original Chinese article:<br>
        <a href="https://kexue.fm/archives/3495" style="color: #005fcc;">https://kexue.fm/archives/3495</a>
    </p>
    <p style="margin: 0 0 0.5em 0;">
        Original author: 苏剑林 (Su Jianlin)<br>
        Original publication: <a href="https://kexue.fm" style="color: #005fcc;">科学空间 (Scientific Spaces)</a>
    </p>
    <p style="margin: 0; font-style: italic;">
        Translated using Gemini 3 Flash. Please refer to the original for authoritative content.
    </p>
</footer>
