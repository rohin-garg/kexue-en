
    <style type="text/css">

    body {
    margin: 48px auto;
    max-width: 68ch;              /* character-based width reads better */
    padding: 0 16px;

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    line-height: 1.65;
    color: #333;
    background: #fafafa;
    }

    h1, h2, h3, h4 {
    line-height: 1.25;
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    font-weight: 600;
    }

    h1 {
    font-size: 2.1em;
    margin-top: 0;
    }

    h2 {
    font-size: 1.6em;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 0.3em;
    }

    h3 {
    font-size: 1.25em;
    }

    h4 {
    font-size: 1.05em;
    color: #555;
    }

    /* Paragraphs and lists */
    p {
    margin: 1em 0;
    }

    ul, ol {
    margin: 1em 0 1em 1.5em;
    }

    li {
    margin: 0.4em 0;
    }

    a {
    color: #005fcc;
    text-decoration: none;
    }

    a:hover {
    text-decoration: underline;
    }

    code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.95em;
    background: #f2f2f2;
    padding: 0.15em 0.35em;
    border-radius: 4px;
    }

    pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 1em 1.2em;
    overflow-x: auto;
    border-radius: 6px;
    line-height: 1.45;
    }

    pre code {
    background: none;
    padding: 0;
    }

    blockquote {
    margin: 1.5em 0;
    padding-left: 1em;
    border-left: 4px solid #ddd;
    color: #555;
    }

    hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 3em 0;
    }

    table {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    font-size: 0.95em;
    }

    th, td {
    padding: 0.5em 0.7em;
    border-bottom: 1px solid #e5e5e5;
    text-align: left;
    }

    th {
    font-weight: 600;
    }

    img {
    max-width: 100%;
    display: block;
    margin: 1.5em auto;
    }

    small {
    color: #666;
    }

    mjx-container {
    margin: 1em 0;
    }

    ::selection {
    background: #cce2ff;
    }

    </style>
    

<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      packages: {'[+]': ['ams']},
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, function (doc) {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/);
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
            const text = document.createTextNode('');
            node.parentNode.replaceChild(text, node);
            math.start = {node: text, delim: '', n: 0};
            math.end = {node: text, delim: '', n: 0};
            doc.math.push(math);
          }
        }, '']
      }
    }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<article>
  <h1><a href="https://kexue.fm/archives/5525">Efficient Implementation of Apriori Algorithm using Numpy</a></h1>
  <p>By 苏剑林 | May 10, 2018</p>

  <figure>
    <a href="https://kexue.fm/usr/uploads/2018/05/3503635631.jpg" title="Click to view original image">
      <img src="https://kexue.fm/usr/uploads/2018/05/3503635631.jpg" alt="A classic example of association rules: Beer and Diapers">
    </a>
    <figcaption>A classic example of association rules: Beer and Diapers</figcaption>
  </figure>

  <p>
    Three years ago, I wrote <a href="translation_3380.html">"Efficient Implementation of the Apriori Algorithm using Pandas"</a>, where I provided a Python implementation of the Apriori algorithm that was well-received by some readers. However, my Python skills weren't very advanced at the time, so in hindsight, that implementation wasn't particularly elegant (though its speed was acceptable), and it didn't support variable-length input data. I had promised to rewrite the algorithm to address these issues, and I have finally completed it~
  </p>

  <p>
    I won't repeat the introduction to the Apriori algorithm here; I'll just post the code directly:
  </p>

<pre><code></code></pre>

  <p>Usage method:</p>

<pre><code></code></pre>

  <p>Output results:</p>

  <blockquote>
    [(('A3', 'F4', 'H4'), (0.8795180722891566, 0.07849462365591398)),<br><br>
    (('C3', 'F4', 'H4'), (0.875, 0.07526881720430108)),<br><br>
    (('B2', 'F4', 'H4'), (0.7945205479452054, 0.06236559139784946)),<br><br>
    (('C2', 'E3', 'D2'), (0.7543859649122807, 0.09247311827956989)),<br><br>
    (('D2', 'F3', 'H4', 'A2'), (0.7532467532467533, 0.06236559139784946))]
  </blockquote>

  <p>
    The meaning of the results is that the first $n-1$ items imply the $n$-th item, such as $A3 + F4 \to H4$, $D2 + F3 + H4 \to A2$, etc.
  </p>

  <p>
    This implementation is relatively more concise, removing the dependency on the Pandas library and only using the Numpy library. Variable naming is also clearer. Since the programming logic hasn't changed, efficiency theoretically won't decrease and may even improve. It should be compatible with Python 2.x and 3.x; if there are any issues, feel free to point them out.
  </p>

  <p>
    <em><strong>When reprinting, please include the original address of this article:</strong> <a href="translation_5525.html" title="Efficient Implementation of Apriori Algorithm using Numpy">https://kexue.fm/archives/5525</a></em>
  </p>

  <p>
    <em><strong>For more detailed reprinting matters, please refer to:</strong></em> <a href="https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="Scientific Spaces FAQ">"Scientific Spaces FAQ"</a>
  </p>

  <p><strong>If you have any doubts or suggestions, please continue the discussion in the comments section below.</strong></p>

  <p><strong>If you find this article helpful, you are welcome to <a href="https://kexue.fm/archives/5525#share">share</a> or <a href="https://kexue.fm/archives/5525#pay">donate to</a> this article. Donations are not for profit, but to know how much sincere attention "Scientific Spaces" has received from its readers. Of course, if you choose to ignore it, it will not affect your reading. Welcome and thank you again!</strong></p>

  <p>Su Jianlin. (May. 10, 2018). "Efficient Implementation of Apriori Algorithm using Numpy" [Blog post]. Retrieved from https://kexue.fm/archives/5525</p>

</article>
<hr>
<footer style="margin-top: 3em; padding: 1.5em; background: #f5f5f5; border-radius: 8px; font-size: 0.9em; color: #555;">
    <p style="margin: 0 0 0.5em 0;"><strong>Citation</strong></p>
    <p style="margin: 0 0 0.5em 0;">
        This is a machine translation of the original Chinese article:<br>
        <a href="translation_5525.html" style="color: #005fcc;">https://kexue.fm/archives/5525</a>
    </p>
    <p style="margin: 0 0 0.5em 0;">
        Original author: 苏剑林 (Su Jianlin)<br>
        Original publication: <a href="https://kexue.fm" style="color: #005fcc;">科学空间 (Scientific Spaces)</a>
    </p>
    <p style="margin: 0; font-style: italic;">
        Translated using Gemini 3 Flash. Please refer to the original for authoritative content.
    </p>
</footer>
