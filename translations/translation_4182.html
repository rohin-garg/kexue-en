
    <style type="text/css">

    body {
    margin: 48px auto;
    max-width: 68ch;              /* character-based width reads better */
    padding: 0 16px;

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 18px;
    line-height: 1.65;
    color: #333;
    background: #fafafa;
    }

    h1, h2, h3, h4 {
    line-height: 1.25;
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    font-weight: 600;
    }

    h1 {
    font-size: 2.1em;
    margin-top: 0;
    }

    h2 {
    font-size: 1.6em;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 0.3em;
    }

    h3 {
    font-size: 1.25em;
    }

    h4 {
    font-size: 1.05em;
    color: #555;
    }

    /* Paragraphs and lists */
    p {
    margin: 1em 0;
    }

    ul, ol {
    margin: 1em 0 1em 1.5em;
    }

    li {
    margin: 0.4em 0;
    }

    a {
    color: #005fcc;
    text-decoration: none;
    }

    a:hover {
    text-decoration: underline;
    }

    code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.95em;
    background: #f2f2f2;
    padding: 0.15em 0.35em;
    border-radius: 4px;
    }

    pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 1em 1.2em;
    overflow-x: auto;
    border-radius: 6px;
    line-height: 1.45;
    }

    pre code {
    background: none;
    padding: 0;
    }

    blockquote {
    margin: 1.5em 0;
    padding-left: 1em;
    border-left: 4px solid #ddd;
    color: #555;
    }

    hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 3em 0;
    }

    table {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    font-size: 0.95em;
    }

    th, td {
    padding: 0.5em 0.7em;
    border-bottom: 1px solid #e5e5e5;
    text-align: left;
    }

    th {
    font-weight: 600;
    }

    img {
    max-width: 100%;
    display: block;
    margin: 1.5em auto;
    }

    small {
    color: #666;
    }

    mjx-container {
    margin: 1em 0;
    }

    ::selection {
    background: #cce2ff;
    }

    </style>
    

<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    tags: 'ams',
    packages: {'[+]': ['ams']}
  }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<article>
    <h1><a href="https://kexue.fm/archives/4182">Smoothing Formula Based on the Forgetting Hypothesis</a></h1>
    <p>By 苏剑林 | January 07, 2017</p>

    <p>Statistics is the process of estimating a true distribution from a large number of samples. A term that usually accompanies statistics is "smoothing," which refers to the process of discounting or adjusting statistical results. The idea behind smoothing is that if the sample space is very large, the statistical results will be sparse. Due to various accidental factors, small statistical results become unreliable—for example, a frequency of 1 might be purely coincidental, and its true frequency is not necessarily close to $1/N$, while a frequency of 0 does not necessarily mean it will never occur. Thus, we need to smooth the statistical results to make the conclusions more reliable.</p>

    <p>There are many methods for smoothing. Here, we introduce a smoothing formula based on the forgetting hypothesis. Suppose our task is to count the frequency of each character from a corpus. We simulate the process of human forgetting: assume that every time a character appears, our memory of it increases by 1. However, if the character does not appear within a certain period (regardless of how long that period is), the memory volume decreases to a proportion $\beta$ of its previous value. Assuming characters appear periodically, the memory volume $A_n$ satisfies the following recurrence relation:</p>
    $$A_{n+1} = \beta A_n + 1$$
    <p>The general solution to this recurrence is:</p>
    $$A_n = \frac{1-\beta^n}{1-\beta}$$
    <p>Its limit is:</p>
    $$A = \frac{1}{1-\beta}$$
    <p>We consider this limit to be our true statistical result—that is, the smoothed result.</p>

    <p>If the total number of characters in a corpus is $N$ and the frequency of a certain character is $F$, assuming characters are uniformly distributed, then the appearance period of that character is $N/F$. We can assume that the law of forgetting follows an exponential decay (guessed from the Ebbinghaus forgetting curve, ref: <a href="https://en.wikipedia.org/wiki/Forgetting_curve">https://en.wikipedia.org/wiki/Forgetting_curve</a>, or readers can guess other forms of forgetting laws). Thus, there exists a constant $\alpha$ less than 1 such that:</p>
    $$\beta = \alpha^{N/F}$$
    <p>In this way, the data smoothing formula we obtain is:</p>
    $$\hat{F} = \frac{1}{1-\alpha^{N/F}}$$

    <p>Let's analyze this formula more carefully. It's not hard to imagine that $\alpha$ must be very close to 1; otherwise, everything would be forgotten instantly. Secondly, we should expect that when $F$ is large enough, the smoothed result $\hat{F}$ should be close to $F$, because the more sufficient the statistics, the more credible the result. Therefore, we assume that when $F=N$, $\hat{F}=F$. At this point, we should multiply by a factor:</p>
    $$\hat{F} = \frac{N(1-\alpha)}{1-\alpha^{N/F}}$$
    <p>This is the final smoothing formula.</p>

    <p>If we use the <a href="http://blog.csdn.net/gzdmcaoyc/article/details/50001801">results provided by Uncle Han</a>, we might consider using:</p>
    $$\alpha = 0.99999962...$$
    <p>However, we notice that as $F \to 0$:</p>
    $$\hat{F} = \lim_{F\to 0}\frac{N(1-\alpha)}{1-\alpha^{N/F}}=N(1-\alpha)$$
    <p>This also implies that this smoothing formula assigns a frequency greater than 0, specifically $N(1-\alpha)$, to characters with a statistical frequency of 0. Obviously, fixing $\alpha$ here seems somewhat unsuitable. Would it be better to fix $N(1-\alpha)$ instead? If we assign a frequency $\gamma$ to characters that have never appeared, then we solve for:</p>
    $$\alpha = 1 - \frac{\gamma}{N}$$
    <p>Thus:</p>
    $$\hat{F} = \frac{\gamma}{1-(1 - \gamma/N)^{N/F}}$$
    <p>At this point, starting from the forgetting hypothesis, we have obtained a final smoothing formula that carries only one parameter with a clear meaning. Finally, we notice that when $N$ is sufficiently large:</p>
    $$(1 - \gamma/N)^N \approx e^{-\gamma}$$
    <p>Thus:</p>
    $$\hat{F} \approx \frac{\gamma}{1-e^{-\gamma/F}}$$
    <p>This also serves as a usable smoothing formula. Finally, let's look at its Taylor expansion:</p>
    $$\hat{F} \approx \frac{\gamma}{1-e^{-\gamma/F}} = F + \frac{\gamma}{2} + \frac{\gamma^2}{12F^2}+\dots$$
    <p>If we only take the first two terms, we can see that in practice, this approach is similar to Add-1 smoothing (Laplace smoothing). Thus, perhaps we can say that the forgetting hypothesis provides a more substantial theoretical basis for Add-1 smoothing?</p>

    <hr />
    <p><em><strong>For more detailed reprinting matters, please refer to:</strong> <a href="https://kexue.fm/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8">"Scientific Spaces FAQ"</a></em></p>

    <p>Jianlin Su. (Jan. 07, 2017). "Smoothing formula based on forgetting hypothesis" [Blog post]. Retrieved from <a href="https://kexue.fm/archives/4182">https://kexue.fm/archives/4182</a></p>

    </article>
<hr>
<footer style="margin-top: 3em; padding: 1.5em; background: #f5f5f5; border-radius: 8px; font-size: 0.9em; color: #555;">
    <p style="margin: 0 0 0.5em 0;"><strong>Citation</strong></p>
    <p style="margin: 0 0 0.5em 0;">
        This is a machine translation of the original Chinese article:<br>
        <a href="https://kexue.fm/archives/4182" style="color: #005fcc;">https://kexue.fm/archives/4182</a>
    </p>
    <p style="margin: 0 0 0.5em 0;">
        Original author: 苏剑林 (Su Jianlin)<br>
        Original publication: <a href="https://kexue.fm" style="color: #005fcc;">科学空间 (Scientific Spaces)</a>
    </p>
    <p style="margin: 0; font-style: italic;">
        Translated using Gemini 3 Flash. Please refer to the original for authoritative content.
    </p>
</footer>
